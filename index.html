<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>УЮТ СТРОЙ - Строительная компания</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            overflow-x: hidden;
            min-width: 320px; /* Минимальная ширина для очень маленьких экранов */
        }

        /* Базовые улучшения для адаптивности */
        img {
            max-width: 100%;
            height: auto;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Улучшения для текста */
        h1, h2, h3, h4, h5, h6 {
            word-wrap: break-word;
            hyphens: auto;
        }

        p {
            word-wrap: break-word;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Предотвращение сохранения позиции скролла браузером */
        html, body {
            scroll-restoration: manual;
            -webkit-overflow-scrolling: touch;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            color: #1a1a1a;
            padding: 0.84rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 2rem;
            position: relative;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1a1a1a;
            text-decoration: none;
        }

        .logo span {
            color: #FFD700;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        .nav-links a {
            color: #1a1a1a;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            padding: 0.5rem 0;
            white-space: nowrap;
        }

        .nav-links a:hover {
            color: #FFD700;
            transform: translateY(-2px);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: #FFD700;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform: translateX(-50%);
        }

        .nav-links a:hover::after {
            width: 100%;
        }


        .consult-label {
            color: #1a1a1a;
            font-weight: 600;
            margin-right: 1.2rem;
            font-size: 1.08rem;
            white-space: nowrap;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/house-background.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: white;
            padding: 140px 0 105px;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }
        @media (max-width: 700px) {
            .hero {
                padding: 84px 0 56px;
                background-position: center top;
                background-attachment: scroll;
                min-height: 80vh;
            }
        }
        .hero::before {
            display: none !important;
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
            text-align: center;
            width: 100%;
        }

        .hero h1 {
            font-size: 4.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            animation: fadeInUp 1.5s ease-out;
            line-height: 1.2;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .hero h1 span {
            color: #FFD700;
        }

        .hero p {
            font-size: 1.5rem;
            margin-bottom: 3rem;
            opacity: 0.95;
            animation: fadeInUp 1.5s ease-out 0.3s both;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            line-height: 1.6;
        }

        .cta-button {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            padding: 1.5rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: fadeInUp 1.5s ease-out 0.6s both;
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
            position: relative;
            overflow: hidden;
            display: inline-block;
            margin: 0 auto;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        .cta-button:active {
            transform: translateY(-1px) scale(0.98);
            transition: all 0.1s ease;
        }

        /* Features Section */
        .features {
            padding: 100px 0;
            background: #fafafa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 4rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
            margin-top: 4rem;
        }

        .feature-card {
            background: white;
            padding: 3rem 2rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .feature-card:hover::before {
            transform: scaleX(1);
        }

        .feature-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0,0,0,0.12);
        }

        /* Work Stages Section */
        .work-stages {
            padding: 100px 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            position: relative;
            overflow: hidden;
        }

        .work-stages::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="%23ddd" opacity="0.3"/><circle cx="75" cy="75" r="1" fill="%23ddd" opacity="0.3"/><circle cx="50" cy="10" r="0.5" fill="%23ddd" opacity="0.2"/><circle cx="10" cy="60" r="0.5" fill="%23ddd" opacity="0.2"/><circle cx="90" cy="40" r="0.5" fill="%23ddd" opacity="0.2"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.1;
        }

        .stages-container {
            position: relative;
            z-index: 2;
        }

        .stages-chain {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 4rem;
            position: relative;
            overflow: hidden;
            padding: 2rem 0;
            width: 100%;
        }

        .stages-chain::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 80px;
            right: 80px;
            height: 4px;
            background: linear-gradient(90deg, #FFD700 0%, #FFA500 25%, #FF8C00 50%, #FFA500 75%, #FFD700 100%);
            border-radius: 3px;
            z-index: 1;
            transform: translateY(-50%) scaleX(0);
            transform-origin: left center;
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
            transition: transform 2s ease-in-out;
        }

        .stages-chain.animated::before {
            transform: translateY(-50%) scaleX(1);
        }

        .stage-item {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 50%;
            width: 160px;
            height: 160px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            position: relative;
            z-index: 2;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 5px solid #FFD700;
            opacity: 0;
            transform: translateY(50px) scale(0.8);
            flex-shrink: 0;
            margin: 0 0.5rem;
        }

        .stage-item::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF8C00, #FFA500, #FFD700);
            border-radius: 50%;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .stage-item:hover::before {
            opacity: 0.3;
        }

        .stage-item.animated {
            opacity: 1;
            transform: translateY(0) scale(1);
            animation: stageAppear 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes stageAppear {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.8) rotate(-10deg);
            }
            50% {
                opacity: 0.8;
                transform: translateY(-10px) scale(1.05) rotate(5deg);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
        }

        .stage-item:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 25px 60px rgba(255, 215, 0, 0.4);
            border-color: #FFA500;
            background: linear-gradient(135deg, #ffffff 0%, #fff8e1 100%);
        }

        .stage-number {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            border: 2px solid #ffffff;
        }

        .stage-text {
            text-align: center;
            font-size: 0.9rem;
            font-weight: 700;
            color: #1a1a1a;
            line-height: 1.3;
            padding: 0 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stage-connector {
            position: absolute;
            top: 50%;
            right: -1rem;
            width: 2rem;
            height: 2px;
            background: #FFD700;
            transform: translateY(-50%);
            z-index: 1;
        }

        .stage-connector::after {
            content: '';
            position: absolute;
            right: -5px;
            top: 50%;
            width: 0;
            height: 0;
            border-left: 8px solid #FFD700;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
            transform: translateY(-50%);
        }

        .feature-icon {
            transition: all 0.3s ease;
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .feature-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            color: #FFD700;
        }

        .feature-card h3 {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .feature-card p {
            color: #666;
            line-height: 1.7;
        }

        /* Projects Section */
        .projects {
            padding: 100px 0;
            background: white;
        }

        .projects-category {
            margin-top: 3rem;
        }

        .projects-category:first-child {
            margin-top: 4rem;
        }

        .projects-category-title {
            font-size: 2rem;
            font-weight: 700;
            color: #d4a055;
            text-align: left;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .projects-category-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 3px;
            background: #d4a055;
        }

        .projects-category-description {
            background: #f9f9f9;
            border-left: 4px solid #d4a055;
            padding: 1.5rem;
            margin-bottom: 2.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .projects-category-description h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
        }

        .projects-category-description ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 0.8rem;
        }

        .projects-category-description li {
            font-size: 0.95rem;
            color: #555;
            line-height: 1.6;
            padding-left: 1.5rem;
            position: relative;
        }

        .projects-category-description li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #d4a055;
            font-weight: bold;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2.5rem;
        }

        .projects-button-container {
            text-align: center;
            margin-top: 3rem;
        }

        .project-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
        }

        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .project-card:hover::before {
            opacity: 1;
        }

        .project-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0,0,0,0.12);
        }

        .project-content {
            position: relative;
            z-index: 2;
        }

        .project-image {
            height: 250px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            font-weight: 600;
            position: relative;
        }

        .project-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
        }

        .project-image.uyut-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/uyut/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.uyut-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.premium-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/premium/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.premium-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.idyllia-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/idilliya/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.idyllia-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.premium-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/premium/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.premium-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.optimal-plus-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/optimal-plus/1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.optimal-plus-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.harmony-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/garmoniya/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.harmony-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.symphony-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/simfoniya/1.JPEG');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.symphony-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.symphony-max-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/simfoniya-max/1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.symphony-max-house::before {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
        }

        .project-image.atlant-mini-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/atlant-mini/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.atlant-mini-house::before {
            background: linear-gradient(45deg, rgba(100, 149, 237, 0.1), rgba(65, 105, 225, 0.1));
        }

        .project-image.atlant-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/atlant/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.atlant-house::before {
            background: linear-gradient(45deg, rgba(70, 130, 180, 0.1), rgba(30, 144, 255, 0.1));
        }

        .project-image.optimal-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/optimal/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.optimal-house::before {
            background: linear-gradient(45deg, rgba(46, 204, 113, 0.1), rgba(39, 174, 96, 0.1));
        }

        .project-image.optimal-90-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/optimal-90/1.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.optimal-90-house::before {
            background: linear-gradient(45deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1));
        }

        .project-image.opera-house {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/opera/1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .project-image.opera-house::before {
            background: linear-gradient(45deg, rgba(147, 51, 234, 0.1), rgba(126, 34, 206, 0.1));
        }

        .project-content {
            padding: 2rem;
        }

        .project-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .project-content p {
            color: #666;
            line-height: 1.6;
        }

        .project-price {
            color: #FFD700;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 1rem;
        }

        /* Mortgage Calculator Section */
        .mortgage-calculator {
            padding: 100px 0;
            background: white;
        }

        .calculator-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
            margin-top: 2rem;
        }

        .calculator-container iframe {
            border-radius: 20px;
            display: block;
        }

        /* Survey Section */
        .survey {
            padding: 100px 0;
            background: linear-gradient(135deg, #fafafa 0%, #f0f0f0 100%);
        }

        .survey-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .survey-form {
            padding: 3rem;
        }

        .form-step {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .form-step.active {
            display: block;
        }

        .form-step h3 {
            color: #1a1a1a;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #1a1a1a;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            background: white;
            position: relative;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
            transform: translateY(-2px);
        }

        .form-group input:hover,
        .form-group select:hover,
        .form-group textarea:hover {
            border-color: #FFD700;
            transform: translateY(-1px);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .next-btn,
        .prev-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            margin-right: 1rem;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .prev-btn {
            background: linear-gradient(135deg, #666 0%, #888 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .next-btn::before,
        .prev-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .next-btn:hover::before,
        .prev-btn:hover::before {
            left: 100%;
        }

        .next-btn:hover,
        .prev-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .prev-btn:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .next-btn:active,
        .prev-btn:active {
            transform: translateY(0) scale(0.98);
            transition: all 0.1s ease;
        }

        .submit-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            margin-top: 1rem;
            position: relative;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        .submit-btn:active {
            transform: translateY(-1px) scale(0.98);
            transition: all 0.1s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* About Section */
        .about {
            padding: 100px 0;
            background: linear-gradient(135deg, #fafafa 0%, #f0f0f0 100%);
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #333;
        }

        .about-text h3 {
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .about-text ul {
            margin-left: 20px;
            margin-top: 1.5rem;
        }

        .about-text li {
            margin-bottom: 0.5rem;
            color: #555;
        }

        /* Portfolio Section */
        .portfolio {
            padding: 100px 0;
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images-project/house-background.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            text-align: left;
            display: none; /* Hidden by default */
        }

        .portfolio-title {
            font-size: 72px; /* 24px * 3 = 72px */
            font-weight: 700;
            margin-bottom: 1rem;
            color: #FFD700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .portfolio-subtitle {
            font-size: 60px; /* 20px * 3 = 60px */
            font-weight: 600;
            color: white;
            margin-bottom: 3rem;
        }

        /* Portfolio Gallery */
        .portfolio-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .portfolio-item {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            cursor: pointer;
            aspect-ratio: 4/3;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.4s ease;
        }

        .portfolio-item:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .portfolio-item:hover img {
            transform: scale(1.1);
        }

        .portfolio-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .portfolio-item:hover .portfolio-overlay {
            opacity: 1;
        }

        .portfolio-overlay i {
            font-size: 3rem;
            color: #FFD700;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Lightbox Modal */
        .lightbox-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .lightbox-modal img {
            max-width: 90%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 40px;
            font-size: 50px;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10001;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .lightbox-close:hover {
            background: rgba(255, 215, 0, 0.8);
            color: #1a1a1a;
            transform: rotate(90deg);
        }

        .lightbox-prev,
        .lightbox-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 40px;
            color: white;
            background: rgba(255, 215, 0, 0.8);
            border: none;
            cursor: pointer;
            padding: 20px 25px;
            border-radius: 10px;
            transition: all 0.3s ease;
            z-index: 10001;
        }

        .lightbox-prev {
            left: 30px;
        }

        .lightbox-next {
            right: 30px;
        }

        .lightbox-prev:hover,
        .lightbox-next:hover {
            background: #FFD700;
            transform: translateY(-50%) scale(1.1);
        }

        .lightbox-counter {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 18px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 25px;
            border-radius: 25px;
            font-weight: 600;
        }

        /* Portfolio Gallery - Responsive */
        @media (max-width: 768px) {
            .portfolio-gallery {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 15px;
            }

            .lightbox-prev {
                left: 10px;
                padding: 15px 18px;
                font-size: 30px;
            }

            .lightbox-next {
                right: 10px;
                padding: 15px 18px;
                font-size: 30px;
            }

            .lightbox-close {
                top: 10px;
                right: 10px;
                font-size: 35px;
                width: 50px;
                height: 50px;
            }

            .lightbox-modal img {
                max-width: 95%;
            }
        }

        @media (max-width: 480px) {
            .portfolio-gallery {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .portfolio-overlay i {
                font-size: 2rem;
            }
        }

        /* Portfolio Consultation Section */
        .portfolio-consultation {
            padding: 100px 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            text-align: center;
            display: none; /* Hidden by default */
        }

        .consultation-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 3rem;
            color: white;
            line-height: 1.4;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Contact Section */
        .contact {
            padding: 100px 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            position: relative;
        }

        .contact::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="%23FFD700" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .contact .container {
            position: relative;
            z-index: 2;
        }

        .contact-form {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 3rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1.2rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.15);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .submit-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        /* Footer */
        .footer {
            background: #1a1a1a;
            color: white;
            padding: 60px 0 40px;
            text-align: center;
        }

        .footer .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            text-align: left;
        }

        .footer-section h4 {
            color: #FFD700;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .footer-section p {
            color: #ccc;
            line-height: 1.6;
        }

        .footer-section a {
            color: #FFD700;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-section a:hover {
            color: #FFA500;
            text-decoration: underline;
        }

        /* Стили для номеров телефонов в футере */
        .footer-section p {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-section p:last-child {
            margin-bottom: 0;
        }

        .footer-section i.fas.fa-phone {
            color: #FFD700;
            width: 16px;
            text-align: center;
        }

        .footer-bottom {
            border-top: 1px solid #333;
            margin-top: 2rem;
            padding-top: 2rem;
            text-align: center;
            color: #999;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes slideInFromTop {
            from {
                opacity: 0;
                transform: translateY(-100%);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInFromBottom {
            from {
                opacity: 0;
                transform: translateY(100%);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes shake {
            0%, 100% {
                transform: translateX(0);
            }
            10%, 30%, 50%, 70%, 90% {
                transform: translateX(-5px);
            }
            20%, 40%, 60%, 80% {
                transform: translateX(5px);
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
            }
            50% {
                box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
            }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        .bounce {
            animation: bounce 1s ease-in-out;
        }

        .shake {
            animation: shake 0.5s ease-in-out;
        }

        .glow {
            animation: glow 2s ease-in-out infinite;
        }

        /* Loading animations */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes loadingDots {
            0%, 20% { color: rgba(0,0,0,0); text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            40% { color: #FFD700; text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            60% { text-shadow: .25em 0 0 #FFD700, .5em 0 0 rgba(0,0,0,0); }
            80%, 100% { text-shadow: .25em 0 0 #FFD700, .5em 0 0 #FFD700; }
        }

        .loading {
            animation: spin 1s linear infinite;
        }

        .loading-dots::after {
            content: '...';
            animation: loadingDots 1.5s infinite;
        }

        /* Page load animation */
        .page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        .page-loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-content {
            text-align: center;
            color: #FFD700;
        }

        .loader-logo {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .loader-text {
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* Кнопка "Наверх" */
        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #1a1a1a;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(100px);
        }

        .scroll-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .scroll-to-top:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 12px 35px rgba(255, 215, 0, 0.4);
        }

        .scroll-to-top:active {
            transform: translateY(-2px) scale(1.05);
            transition: all 0.1s ease;
        }

        .scroll-to-top::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
            border-radius: 50%;
        }

        .scroll-to-top:hover::before {
            left: 100%;
        }

        /* Адаптивность для кнопки "Наверх" */
        @media (max-width: 768px) {
            .scroll-to-top {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            .scroll-to-top {
                bottom: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
                font-size: 1rem;
            }
        }

        /* Очень маленькие экраны */
        @media (max-width: 360px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            .hero p {
                font-size: 1rem;
            }
            .cta-button {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
            .section-title {
                font-size: 1.5rem;
            }
            .feature-card {
                padding: 1.5rem 1rem;
            }
            .project-card {
                margin: 0 0.5rem;
            }
        }

        /* Ландшафтная ориентация на мобильных */
        @media (max-height: 500px) and (orientation: landscape) {
            .hero {
                padding: 80px 0 60px;
                min-height: 70vh;
            }
            .hero h1 {
                font-size: 2rem;
            }
            .hero p {
                font-size: 1rem;
                margin-bottom: 1.5rem;
            }
            .cta-button {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
        }

        /* Scroll animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }

        .animate-on-scroll-left {
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .animate-on-scroll-left.animated {
            opacity: 1;
            transform: translateX(0);
        }

        .animate-on-scroll-right {
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .animate-on-scroll-right.animated {
            opacity: 1;
            transform: translateX(0);
        }

        .animate-on-scroll-scale {
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .animate-on-scroll-scale.animated {
            opacity: 1;
            transform: scale(1);
        }

        /* Staggered animations */
        .animate-on-scroll.delay-1 { transition-delay: 0.1s; }
        .animate-on-scroll.delay-2 { transition-delay: 0.2s; }
        .animate-on-scroll.delay-3 { transition-delay: 0.3s; }
        .animate-on-scroll.delay-4 { transition-delay: 0.4s; }
        .animate-on-scroll.delay-5 { transition-delay: 0.5s; }
        .animate-on-scroll.delay-6 { transition-delay: 0.6s; }

        /* Responsive */
        
        /* Очень большие экраны (4K и выше) */
        @media (min-width: 1920px) {
            .container, .nav, .hero-content {
                max-width: 1600px;
            }
            .hero h1 {
                font-size: 5rem;
            }
            .hero p {
                font-size: 1.8rem;
            }
        }

        /* Большие экраны (Full HD) */
        @media (max-width: 1440px) {
            .container, .nav, .hero-content {
                max-width: 1200px;
            }
        }

        /* Средние экраны (ноутбуки) */
        @media (max-width: 1200px) {
            .container, .nav, .hero-content {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            .features-grid {
                gap: 1.5rem;
            }
            .projects-grid {
                gap: 1.5rem;
            }
        }

        /* Планшеты (портретная ориентация) */
        @media (max-width: 1024px) {
            .hero h1 {
                font-size: 3.5rem;
            }
            .section-title {
                font-size: 2.5rem;
            }
            .features-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
            .projects-grid {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .projects-category-title {
                font-size: 1.5rem;
            }

            .projects-category-description ul {
                grid-template-columns: 1fr;
                gap: 0.6rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .calculator-container iframe {
                height: 700px;
            }

            .survey-container {
                margin: 0 1rem;
            }

            .survey-form {
                padding: 2rem 1.5rem;
            }

            .form-step h3 {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 600px) {
            .nav {
                padding: 0 0.5rem;
            }
            .logo img {
                height: 42px;
                width: 42px;
                margin-left: -21px;
            }
            .hero-content {
                margin-top: 40px;
                padding: 0 0.5rem;
            }
            .hero h1 {
                font-size: 2rem;
            }
            .hero p {
                font-size: 1.1rem;
            }
            .cta-button {
                padding: 1.2rem 2rem;
                font-size: 1.1rem;
            }
            .features {
                padding: 40px 0;
            }
            .features-grid {
                grid-template-columns: 1fr;
                gap: 1.2rem;
            }
            .feature-card {
                padding: 1.5rem 0.7rem;
            }
            .projects {
                padding: 40px 0;
            }
            .projects-category-title {
                font-size: 1.3rem;
            }
            .projects-category-description {
                padding: 1rem;
            }
            .projects-category-description li {
                font-size: 0.9rem;
            }
            .projects-grid {
                grid-template-columns: 1fr;
                gap: 1.2rem;
            }
            .project-card {
                border-radius: 12px;
            }
            .project-image {
                height: 120px;
                font-size: 1.1rem;
            }
            .project-content {
                padding: 1rem;
            }
            .mortgage-calculator {
                padding: 40px 0;
            }
            .calculator-container iframe {
                height: 350px;
            }
            .survey {
                padding: 40px 0;
            }
            .survey-container {
                margin: 0 0.2rem;
                border-radius: 10px;
            }
            .survey-form {
                padding: 1rem 0.5rem;
            }
            .form-step h3 {
                font-size: 1.1rem;
            }
            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 0.7rem;
                font-size: 0.95rem;
                border-radius: 7px;
            }
            .next-btn,
            .prev-btn,
            .submit-btn {
                padding: 0.7rem 1.2rem;
                font-size: 1rem;
                border-radius: 7px;
            }
            .about {
                padding: 40px 0;
            }
            .about-content {
                grid-template-columns: 1fr;
                gap: 1.2rem;
            }
            .about-text h3 {
                font-size: 1.2rem;
            }
            .portfolio {
                padding: 60px 0;
            }
            .portfolio-title {
                font-size: 60px; /* 72px * 0.83 = 60px */
            }
            .portfolio-subtitle {
                font-size: 50px; /* 60px * 0.83 = 50px */
            }
            .portfolio-consultation {
                padding: 60px 0;
            }
            .consultation-title {
                font-size: 20px;
                margin-bottom: 2rem;
            }
            .footer {
                padding: 30px 0 20px;
            }
            .footer .container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            .footer-section h4 {
                font-size: 1.1rem;
            }
            .footer-bottom {
                padding-top: 1rem;
                font-size: 0.9rem;
            }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: #f0f0f0;
            z-index: 1001;
        }

        .scroll-progress {
            height: 100%;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            width: 0%;
            transition: width 0.3s ease;
        }
        .logo img {
            height: 84px;
            width: 84px;
            margin-bottom: 0.14rem;
            display: inline-block;
            vertical-align: middle;
            max-width: 100%;
            margin-left: -70px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .logo:hover img {
            transform: scale(1.1) rotate(5deg);
        }

        /* Адаптивные классы для шапки */
        .nav--mobile {
            flex-direction: column;
            align-items: flex-start;
        }

        .header--mobile {
            padding: 0.6rem 0;
        }

        .menu-open {
            overflow: hidden;
        }

        /* Улучшенные стили для мобильного меню */
        .nav-links.open {
            display: flex;
            transform: translateY(0);
            opacity: 1;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Анимация для бургер-кнопки */
        .burger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .burger.active span:nth-child(2) {
            opacity: 0;
        }

        .burger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }


        /* Логотип-надпись УЮТСТРОЙ */
        .logo-text {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-family: 'Inter', sans-serif;
            font-size: 1.6rem;
            color: #1a1a1a;
            letter-spacing: 1px;
            z-index: 1001;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            user-select: none;
        }

        .logo-text:hover {
            transform: translateY(-50%) scale(1.05);
            color: #333;
        }

        .logo-text:active {
            transform: translateY(-50%) scale(0.98);
        }

        /* Стили для первых трех букв (обычный шрифт) */
        .logo-text .light-text {
            font-weight: 400;
        }

        /* Стили для остальных букв (жирный шрифт) */
        .logo-text .bold-text {
            font-weight: 700;
        }

        /* Позиционирование для десктопа (левый верхний угол) */
        .logo-text--desktop {
            left: 2rem;
        }

        /* Позиционирование для мобильных (правый верхний угол) */
        .logo-text--mobile {
            right: 2rem;
        }

        /* Адаптивные размеры для логотипа-надписи */
        @media (max-width: 1200px) {
            .logo-text {
                font-size: 1.5rem;
                letter-spacing: 0.8px;
            }
        }

        @media (max-width: 900px) {
            .logo-text {
                font-size: 1.4rem;
                letter-spacing: 0.6px;
            }
            .logo-text--desktop {
                left: 1rem;
            }
            .logo-text--mobile {
                right: 1rem;
            }
        }

        @media (max-width: 600px) {
            .logo-text {
                font-size: 1.2rem;
                letter-spacing: 0.4px;
            }
            .logo-text--desktop {
                left: 0.5rem;
            }
            .logo-text--mobile {
                right: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .logo-text {
                font-size: 1rem;
                letter-spacing: 0.3px;
            }
        }
        .survey-form input,
        .survey-form textarea {
            color: #1a1a1a;
            background: #fff;
        }
        /* --- Мобильное меню --- */
        .burger {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            cursor: pointer;
            z-index: 1100;
        }
        .burger span {
            display: block;
            width: 28px;
            height: 4px;
            margin: 4px 0;
            background: #FFD700;
            border-radius: 2px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
        }

        .burger.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .burger.active span:nth-child(2) {
            opacity: 0;
            transform: scaleX(0);
        }

        .burger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }
        /* Планшеты (альбомная ориентация) */
        @media (max-width: 1024px) and (orientation: landscape) {
            .hero {
                padding: 120px 0 80px;
            }
            .nav {
                padding: 0 1rem;
            }
        }

        @media (max-width: 900px) {
            .nav {
                justify-content: space-between;
            }
            .nav-links {
                display: none;
                position: absolute;
                top: 70px;
                left: 0;
                width: 100vw;
                background: #fff;
                flex-direction: column;
                gap: 0;
                box-shadow: 0 8px 24px rgba(0,0,0,0.08);
                z-index: 2000;
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }
            .nav-links.open {
                display: flex;
                transform: translateY(0);
                opacity: 1;
            }
            .nav-links li {
                width: 100%;
                text-align: center;
                border-bottom: 1px solid #eee;
                padding: 1rem 0;
                transform: translateX(-50px);
                opacity: 0;
                transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }
            .nav-links.open li {
                transform: translateX(0);
                opacity: 1;
            }
            .nav-links.open li:nth-child(1) { transition-delay: 0.1s; }
            .nav-links.open li:nth-child(2) { transition-delay: 0.15s; }
            .nav-links.open li:nth-child(3) { transition-delay: 0.2s; }
            .nav-links.open li:nth-child(4) { transition-delay: 0.25s; }
            .nav-links.open li:nth-child(5) { transition-delay: 0.3s; }
            .nav-links.open li:nth-child(6) { transition-delay: 0.35s; }
            .nav-links.open li:nth-child(7) { transition-delay: 0.4s; }
            .nav-links.open li:nth-child(8) { transition-delay: 0.45s; }
            .burger {
                display: flex;
                z-index: 2100;
            }
        }
        .next-btn,
        .prev-btn,
        .submit-btn {
            touch-action: manipulation;
        }
        /* --- Adaptive styles --- */
        @media (max-width: 1200px) {
            .nav, .hero-content, .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            .features-grid {
                gap: 1.5rem;
            }
        }
        @media (max-width: 900px) {
            .hero h1 {
                font-size: 3rem;
            }
            .section-title {
                font-size: 2rem;
            }
            .features-grid {
                grid-template-columns: 1fr;
            }
            .feature-card {
                padding: 2rem 1rem;
            }
            .nav-links {
                gap: 1.2rem;
            }
        }
        @media (max-width: 700px) {
            .nav {
                flex-direction: column;
                align-items: flex-start;
                padding: 0 1rem;
                justify-content: flex-start;
            }
            .nav-links {
                flex-direction: column;
                width: 100%;
                gap: 0.8rem;
                margin-top: 0.7rem;
            }
            .hero-content {
                margin-top: 40px;
                padding: 0 0.5rem;
            }
            .hero {
                padding: 100px 0 60px;
            }
        }
        @media (max-width: 500px) {
            .hero h1 {
                font-size: 2rem;
            }
            .hero p {
                font-size: 1.1rem;
            }
            .cta-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .section-title {
                font-size: 1.2rem;
            }
            .feature-card {
                padding: 1rem 0.5rem;
            }
        }
        .contact .section-title {
            color: #fff;
        }
        .callback-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            padding: 0.55rem 1.38rem;
            border: none;
            border-radius: 16.5px;
            font-size: 0.66rem;
            font-weight: 600;
            cursor: pointer;
            position: fixed;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 3px 12px rgba(255, 215, 0, 0.18);
            z-index: 1200;
            display: inline-block;
            overflow: hidden;
            min-width: 110px;
            text-align: center;
            text-decoration: none;
        }

        #callbackBtn1 {
            right: 10rem;
            top: 0.5rem;
        }

        #callbackBtn2 {
            right: 1rem;
            top: 0.5rem;
        }

        .callback-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .callback-btn:hover::before {
            left: 100%;
        }

        .callback-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        .callback-btn:active {
            transform: translateY(0) scale(0.98);
            transition: all 0.1s ease;
        }
        @media (max-width: 1200px) {
            .callback-btn {
                font-size: 0.6rem;
                padding: 0.44rem 1.1rem;
                min-width: 99px;
            }
            #callbackBtn1 {
                right: 9rem;
                top: 0.3rem;
            }
            #callbackBtn2 {
                right: 0.5rem;
                top: 0.3rem;
            }
        }
        @media (max-width: 900px) {
            .callback-btn {
                display: none !important;
            }
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.45);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: #fff;
            border-radius: 18px;
            padding: 2.5rem 2rem 2rem 2rem;
            max-width: 540px;
            width: 98vw;
            box-shadow: 0 8px 40px rgba(0,0,0,0.18);
            position: relative;
            transform: scale(0.8) translateY(50px);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .modal-overlay.show .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
        .modal-content input,
        .modal-content textarea {
            color: #222 !important;
            background: #fff !important;
            font-size: 1rem;
        }
        .modal-content input::placeholder,
        .modal-content textarea::placeholder {
            color: #888 !important;
        }
        .modal-content label {
            color: #222;
            font-size: 0.98rem;
        }
        .modal-content .section-title {
            font-size: 18px !important;
        }
        .modal-close {
            position: absolute;
            top: 18px;
            right: 18px;
            background: none;
            border: none;
            font-size: 2rem;
            color: #FFD700;
            cursor: pointer;
            z-index: 3100;
        }
        .modal-content .consent-text {
            text-align: center;
            font-size: 18px;
            color: #444;
            margin-top: 1.2rem;
            line-height: 1.3;
        }
        @media (max-width: 600px) {
            .modal-content {
                padding: 1.2rem 0.5rem 1.2rem 0.5rem;
            }
        }

        /* Gallery Modal Styles */
        .gallery-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-modal.show {
            display: flex;
            opacity: 1;
            align-items: center;
            justify-content: center;
        }

        .gallery-container {
            position: relative;
            max-width: 90%;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .gallery-main-image {
            max-width: 100%;
            max-height: 70vh;
            object-fit: contain;
            border-radius: 8px;
        }

        .gallery-thumbnails {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .gallery-thumbnail {
            width: 80px;
            height: 60px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 4px;
            border: 3px solid transparent;
            transition: all 0.3s ease;
            opacity: 0.6;
        }

        .gallery-thumbnail:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        .gallery-thumbnail.active {
            border-color: #d4a055;
            opacity: 1;
        }

        .gallery-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: #d4a055;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .gallery-close:hover {
            background: #b8854a;
            transform: rotate(90deg);
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(212, 160, 85, 0.8);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .gallery-nav:hover {
            background: rgba(212, 160, 85, 1);
        }

        .gallery-nav.prev {
            left: -60px;
        }

        .gallery-nav.next {
            right: -60px;
        }

        .gallery-title {
            color: white;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        @media (max-width: 768px) {
            .gallery-nav {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            .gallery-nav.prev {
                left: 10px;
            }
            .gallery-nav.next {
                right: 10px;
            }
            .gallery-thumbnail {
                width: 60px;
                height: 45px;
            }
            .gallery-close {
                top: 10px;
                right: 10px;
            }
        }

        /* Улучшения для модальных окон на разных экранах */
        @media (max-width: 480px) {
            .modal-content {
                margin: 1rem;
                padding: 1rem 0.5rem;
                max-width: calc(100vw - 2rem);
            }
            .modal-content .section-title {
                font-size: 1.2rem !important;
            }
            .form-group input,
            .form-group textarea {
                padding: 0.8rem;
                font-size: 16px; /* Предотвращает зум на iOS */
            }
        }

        @media (max-width: 360px) {
            .modal-content {
                margin: 0.5rem;
                padding: 0.8rem 0.3rem;
                max-width: calc(100vw - 1rem);
            }
        }

        /* Success Message Styles */
        .success-message {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 4000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .success-message.show {
            opacity: 1;
            visibility: visible;
        }

        .success-content {
            background: #fff;
            border-radius: 20px;
            padding: 3rem 2rem;
            text-align: center;
            max-width: 400px;
            width: 90vw;
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            transform: scale(0.8) translateY(50px);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .success-message.show .success-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .success-content i {
            font-size: 4rem;
            color: #28a745;
            margin-bottom: 1rem;
            animation: bounceIn 0.6s ease-out;
        }

        .success-content h3 {
            font-size: 1.8rem;
            color: #1a1a1a;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .success-content p {
            font-size: 1.1rem;
            color: #666;
            line-height: 1.5;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @media (max-width: 480px) {
            .success-content {
                padding: 2rem 1.5rem;
                margin: 1rem;
            }
            .success-content i {
                font-size: 3rem;
            }
            .success-content h3 {
                font-size: 1.5rem;
            }
            .success-content p {
                font-size: 1rem;
            }
        }

        /* Улучшения для опросника */
        @media (max-width: 480px) {
            .survey-container {
                margin: 0 0.5rem;
            }
            .quiz-answer {
                padding: 0.7rem 1rem;
                font-size: 1rem;
            }
            .quiz-phone-group input {
                width: 240px;
                font-size: 1.1rem;
            }
        }

        @media (max-width: 360px) {
            .survey-container {
                margin: 0 0.2rem;
            }
            .quiz-answer {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
            .quiz-phone-group input {
                width: 200px;
                font-size: 1rem;
            }
        }

        /* Улучшения для калькулятора */
        @media (max-width: 480px) {
            .calculator-container iframe {
                height: 400px;
            }
        }

        @media (max-width: 360px) {
            .calculator-container iframe {
                height: 350px;
            }
        }

        /* Адаптивные стили для футера */
        @media (max-width: 768px) {
            .footer-section p {
                margin-bottom: 0.6rem;
                gap: 0.4rem;
            }
        }

        @media (max-width: 480px) {
            .footer-section p {
                margin-bottom: 0.5rem;
                gap: 0.3rem;
                font-size: 0.9rem;
            }
        }

        /* Адаптивные стили для этапов работы */
        @media (max-width: 1400px) {
            .stages-chain {
                justify-content: center;
                flex-wrap: wrap;
                gap: 1.5rem;
            }
            .stages-chain::before {
                display: none;
            }
            .stage-item {
                margin: 0 0.3rem;
                width: 140px;
                height: 140px;
            }
            .stage-text {
                font-size: 0.8rem;
            }
        }

        @media (max-width: 768px) {
            .work-stages {
                padding: 60px 0;
            }
            .stages-chain {
                flex-direction: column;
                gap: 2rem;
                margin-top: 2rem;
            }
            .stage-item {
                width: 120px;
                height: 120px;
                margin: 0;
            }
            .stage-text {
                font-size: 0.75rem;
            }
            .stage-number {
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            .stage-item {
                width: 100px;
                height: 100px;
            }
            .stage-text {
                font-size: 0.65rem;
                padding: 0 0.3rem;
            }
            .stage-number {
                width: 30px;
                height: 30px;
                font-size: 1rem;
            }
        }
        .survey .section-title {
            font-size: 30px !important;
        }
        .quiz-answers {
            display: flex;
            flex-direction: column;
            gap: 0.7rem;
            margin: 1.2rem 0 1.7rem 0;
        }
        .quiz-answer {
            background: #f7f7f7;
            border: 2px solid #FFD700;
            border-radius: 10px;
            padding: 0.9rem 1.2rem;
            font-size: 1.1rem;
            color: #222;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            user-select: none;
            position: relative;
            overflow: hidden;
        }

        .quiz-answer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .quiz-answer:hover::before {
            left: 100%;
        }

        .quiz-answer:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .quiz-answer.selected {
            background: #FFD700;
            color: #222;
            border-color: #FFA500;
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.4);
        }
        .quiz-error {
            color: #D7263D;
            font-size: 1rem;
            margin-bottom: 1rem;
            text-align: center;
        }
        .quiz-phone-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 1.5rem;
        }
        .quiz-phone-group input {
            font-size: 1.2rem;
            padding: 0.7rem 1rem;
            border: 2px solid #FFD700;
            border-radius: 10px;
            width: 260px;
            margin-bottom: 1.1rem;
            color: #222;
            background: #fff;
            text-align: center;
        }
        .quiz-submit-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #1a1a1a;
            padding: 1.1rem 2.2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }
        .quiz-submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }

        /* Online Booking Section */
        .online-booking {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('images/онлайн показ.jpg') center/cover no-repeat fixed;
            padding: 6rem 0;
            position: relative;
            min-height: 100vh;
        }

        .online-booking .section-title {
            color: #fff;
            font-size: 4rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .booking-highlight {
            color: #FFD700;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            display: inline-block;
            padding: 0.2rem 1rem;
            border-radius: 10px;
            background: rgba(255, 215, 0, 0.1);
        }

        .booking-highlight:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: scale(1.05);
        }

        .booking-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        /* Calendar Styles */
        .calendar-wrapper {
            background: #fff;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .calendar-month {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1a1a1a;
        }

        .calendar-nav-btn {
            background: #FFD700;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1a1a1a;
            font-size: 1.2rem;
        }

        .calendar-nav-btn:hover {
            background: #FFC700;
            transform: scale(1.1);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 600;
            color: #666;
            padding: 10px;
            font-size: 0.9rem;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            background: #f5f5f5;
            color: #1a1a1a;
        }

        .calendar-day:hover:not(.disabled):not(.empty) {
            background: #FFD700;
            transform: scale(1.1);
        }

        .calendar-day.selected {
            background: #FFD700;
            color: #1a1a1a;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .calendar-day.disabled {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
        }

        .calendar-day.booked {
            background: #ffcccb !important;
            color: #c82333 !important;
            position: relative;
        }

        .calendar-day.booked::after {
            content: '✓';
            position: absolute;
            top: 2px;
            right: 4px;
            font-size: 10px;
            color: #c82333;
        }

        .calendar-day.empty {
            background: transparent;
            cursor: default;
        }

        .calendar-day.has-bookings {
            position: relative;
        }

        .calendar-day.has-bookings::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: #ff4444;
            border-radius: 50%;
        }

        /* Booking Form Styles */
        .booking-form-wrapper {
            display: flex;
            flex-direction: column;
        }

        .booking-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .booking-form .form-group {
            margin-bottom: 1.5rem;
        }

        .booking-form .form-group label {
            display: block;
            color: #1a1a1a;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .booking-form .form-group input {
            width: 100%;
            padding: 1.2rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            background: #ffffff;
            color: #1a1a1a;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .booking-form .form-group input::placeholder {
            color: #999;
            font-weight: 400;
        }

        .booking-form .form-group input:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
        }

        .selected-datetime {
            background: linear-gradient(135deg, #FFD700, #FFC700);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            color: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }


        .booking-submit-btn {
            background: linear-gradient(135deg, #FFD700, #FFC700);
            color: #1a1a1a;
            border: none;
            padding: 1.2rem 2rem;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .booking-submit-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.5);
        }

        .booking-submit-btn:disabled {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Reviews Section */
        .reviews-section {
            padding: 4rem 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .add-review-card {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 3rem;
        }

        .add-review-card h3 {
            color: #333;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .add-review-card h3 i {
            color: #FFD700;
        }

        .review-form .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .review-form .form-group {
            margin-bottom: 20px;
        }

        .review-form label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .review-form input,
        .review-form textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: border-color 0.3s ease;
            font-family: inherit;
            color: #1a1a1a;
            background: #ffffff;
            font-weight: 500;
        }

        .review-form input::placeholder,
        .review-form textarea::placeholder {
            color: #999;
            font-weight: 400;
        }

        .review-form input:focus,
        .review-form textarea:focus {
            outline: none;
            border-color: #FFD700;
        }

        .rating-input {
            display: flex;
            gap: 10px;
            font-size: 2rem;
            margin-top: 5px;
        }

        .rating-input i {
            color: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .rating-input i:hover,
        .rating-input i.active {
            color: #FFD700;
            transform: scale(1.2);
        }

        .review-submit-btn {
            background: linear-gradient(135deg, #FFD700, #FFC700);
            color: #1a1a1a;
            border: none;
            padding: 15px 40px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
            width: 100%;
        }

        .review-submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.5);
        }

        .reviews-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 2rem;
        }

        .review-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 5px solid #FFD700;
        }

        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .review-author {
            flex: 1;
        }

        .review-author h4 {
            color: #333;
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .review-project {
            color: #666;
            font-size: 0.95rem;
            font-style: italic;
        }

        .review-rating {
            display: flex;
            gap: 3px;
            font-size: 1.2rem;
        }

        .review-rating i {
            color: #FFD700;
        }

        .review-text {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .review-date {
            color: #999;
            font-size: 0.85rem;
            text-align: right;
        }

        .no-reviews {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .no-reviews i {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .no-reviews h3 {
            color: #666;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .review-form .form-row {
                grid-template-columns: 1fr;
            }

            .reviews-list {
                grid-template-columns: 1fr;
            }

            .add-review-card {
                padding: 1.5rem;
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .online-booking .section-title {
                font-size: 2.5rem;
            }

            .booking-content {
                grid-template-columns: 1fr;
                padding: 2rem 1rem;
                gap: 2rem;
            }

            .calendar-grid {
                gap: 5px;
            }

            .time-slots {
                grid-template-columns: repeat(2, 1fr);
            }

            .calendar-day {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .online-booking .section-title {
                font-size: 2rem;
            }

            .calendar-month {
                font-size: 1.2rem;
            }

            .time-slots {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Page Loader -->
    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <div class="loader-logo">🏠</div>
            <div class="loader-text">УЮТ СТРОЙ</div>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
        <div class="scroll-progress" id="scrollProgress"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <a href="#" class="logo-text logo-text--desktop" id="logoText">
            <span class="light-text">УЮТ</span><span class="bold-text">СТРОЙ</span>
        </a>
        <nav class="nav">
            <div class="burger" id="burgerMenu">
                <span></span><span></span><span></span>
            </div>
            <ul class="nav-links">
                <li><a href="#projects">Проекты</a></li>
                <li><a href="#booking">Онлайн запись</a></li>
                <li><a href="#survey">Опрос</a></li>
                <li><a href="#calculator">Калькулятор</a></li>
                <li><a href="#reviews">Отзывы</a></li>
                <li><a href="#portfolio">Портфолио</a></li>
                <li><a href="#about">О компании</a></li>
            </ul>
        </nav>
    </header>

    <!-- Фиксированные кнопки с номерами телефонов -->
    <a href="tel:+79523499587" class="callback-btn" id="callbackBtn1">+7(952)349-95-87</a>
    <a href="tel:+79129296271" class="callback-btn" id="callbackBtn2">+7(912)929-62-71</a>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Превращаем <span>мечты</span> в реальность</h1>
            <p>Строим качественные дома под ключ из кирпича и газобетона с гарантией качества и соблюдением всех сроков</p>
            <button class="cta-button" id="consultBtn">
                <i class="fas fa-phone"></i> Получить бесплатную консультацию
            </button>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Почему выбирают нас</h2>
            <p class="section-subtitle animate-on-scroll delay-1">Мы предлагаем комплексные решения для строительства вашего идеального дома</p>
            <div class="features-grid">
                <div class="feature-card animate-on-scroll delay-1">
                    <div class="feature-icon">🏠</div>
                    <h3>Полный цикл работ</h3>
                    <p>Строительство дома «под ключ» от фундамента до отделки с гарантией качества</p>
                </div>
                <div class="feature-card animate-on-scroll delay-2">
                    <div class="feature-icon">⏰</div>
                    <h3>Срок работ до 100 дней</h3>
                    <p>Приступаем к работе в день подписания договора с четким соблюдением сроков</p>
                </div>
                <div class="feature-card animate-on-scroll delay-3">
                    <div class="feature-icon">📋</div>
                    <h3>Большая база проектов</h3>
                    <p>Готовые проекты домов и земельные участки под строительство</p>
                </div>
                <div class="feature-card animate-on-scroll delay-4">
                    <div class="feature-icon">💰</div>
                    <h3>Удобные формы оплаты</h3>
                    <p>Ипотека от 6%, рассрочка, материнский капитал и другие программы</p>
                </div>
                <div class="feature-card animate-on-scroll delay-5">
                    <div class="feature-icon">👷</div>
                    <h3>Квалифицированные бригады</h3>
                    <p>Строгий контроль на каждом этапе строительства с использованием современных технологий</p>
                </div>
                <div class="feature-card animate-on-scroll delay-6">
                    <div class="feature-icon">⚖️</div>
                    <h3>Юридическое сопровождение</h3>
                    <p>Помощь в оформлении документов и ипотеки с полной поддержкой</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Work Stages Section -->
    <section class="work-stages" id="stages">
        <div class="container">
            <div class="stages-container">
                <h2 class="section-title animate-on-scroll">Какой этап работы с нами?</h2>
                <p class="section-subtitle animate-on-scroll delay-1">Мы работаем по четко отработанной схеме, которая гарантирует качественный результат</p>
                <div class="stages-chain">
                    <div class="stage-item">
                        <div class="stage-number">1</div>
                        <div class="stage-text">ВСТРЕЧА В ОФИСЕ</div>
                    </div>
                    <div class="stage-item">
                        <div class="stage-number">2</div>
                        <div class="stage-text">ЗАКЛЮЧЕНИЕ ДОГОВОРА</div>
                    </div>
                    <div class="stage-item">
                        <div class="stage-number">3</div>
                        <div class="stage-text">РАЗРАБОТКА ПРОЕКТА</div>
                    </div>
                    <div class="stage-item">
                        <div class="stage-number">4</div>
                        <div class="stage-text">СТРОИТЕЛЬСТВО ДОМА</div>
                    </div>
                    <div class="stage-item">
                        <div class="stage-number">5</div>
                        <div class="stage-text">ТЕХНИЧЕСКИЙ НАДЗОР</div>
                    </div>
                    <div class="stage-item">
                        <div class="stage-number">6</div>
                        <div class="stage-text">СДАЧА ДОМА</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section class="projects" id="projects">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Наши проекты</h2>
            <p class="section-subtitle animate-on-scroll delay-1">Выберите дом своей мечты из нашей коллекции готовых проектов</p>
            
            <!-- Кирпич Category -->
            <div class="projects-category">
                <h3 class="projects-category-title animate-on-scroll">Кирпич</h3>
                <div class="projects-category-description animate-on-scroll delay-1">
                    <ul>
                        <li><strong>Тип фундамента:</strong> ленточный + плита 150 мм</li>
                        <li><strong>Материал несущих стен:</strong> керамзитоблок</li>
                        <li><strong>Материал перегородочных стен:</strong> керамзитоблок</li>
                        <li><strong>Утеплитель стен:</strong> пенополистирол 50 мм</li>
                        <li><strong>Фасад:</strong> керамический кирпич М-125</li>
                        <li><strong>Тип кровли:</strong> четырехскатная</li>
                        <li><strong>Материал кровли:</strong> металлочерепица (толщина металла 0,45 мм)</li>
                        <li><strong>Утеплитель перекрытия:</strong> эковата 200 мм</li>
                        <li><strong>Софиты карнизов:</strong> да</li>
                        <li><strong>Водосточная система:</strong> да</li>
                        <li><strong>Окна:</strong> пятикамерный стеклопакет с внешней ламинацией</li>
                        <li><strong>Дверь:</strong> входная металлическая с терморазрывом</li>
                        <li><strong>Скважина:</strong> до 40 метров</li>
                        <li><strong>Водоотведение:</strong> септик с дренажным колодцем</li>
                    </ul>
                </div>
                <div class="projects-grid">
                    <div class="project-card animate-on-scroll-scale delay-1">
                        <div class="project-image uyut-house">Дом "Уют"</div>
                        <div class="project-content">
                            <h3>Дом "Уют"</h3>
                            <p>Современный дом с продуманной планировкой и качественными материалами</p>
                            <div class="project-price">Площадь: 62 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 2+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 5 250 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 6 300 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-2">
                        <div class="project-image harmony-house">Дом "Гармония"</div>
                        <div class="project-content">
                            <h3>Дом "Гармония"</h3>
                            <p>Сбалансированный дом с оптимальным соотношением комфорта и функциональности</p>
                            <div class="project-price">Площадь: 75 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 2+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 5 500 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 6 600 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-3">
                        <div class="project-image symphony-house">Дом "Симфония"</div>
                        <div class="project-content">
                            <h3>Дом "Симфония"</h3>
                            <p>Архитектурное произведение искусства с уникальным дизайном и современными технологиями</p>
                            <div class="project-price">Площадь: 85 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 000 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 6 950 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-4">
                        <div class="project-image symphony-max-house">Дом "Симфония MAX"</div>
                        <div class="project-content">
                            <h3>Дом "Симфония MAX"</h3>
                            <p>Максимально комфортный дом премиум-класса с расширенной планировкой и эксклюзивной отделкой</p>
                            <div class="project-price">Площадь: 105 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 550 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 7 850 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-5">
                        <div class="project-image idyllia-house">Дом "Идиллия"</div>
                        <div class="project-content">
                            <h3>Дом "Идиллия"</h3>
                            <p>Просторный дом для большой семьи с дополнительными удобствами</p>
                            <div class="project-price">Площадь: 150 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 550 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 7 850 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-6">
                        <div class="project-image premium-house">Дом "Премиум"</div>
                        <div class="project-content">
                            <h3>Дом "Премиум"</h3>
                            <p>Премиальный дом с продуманной планировкой 3+ и высоким уровнем комфорта</p>
                            <div class="project-price">Площадь: 90 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 200 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 7 300 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-7">
                        <div class="project-image opera-house">Проект "Опера"</div>
                        <div class="project-content">
                            <h3>Проект "Опера"</h3>
                            <p>Элегантный дом с изысканным дизайном и продуманной функциональностью для комфортной жизни</p>
                            <div class="project-price">Площадь: 95 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 300 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 7 400 000 ₽</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Штукатурка Category -->
            <div class="projects-category">
                <h3 class="projects-category-title animate-on-scroll">Штукатурка</h3>
                <div class="projects-category-description animate-on-scroll delay-1">
                    <ul>
                        <li><strong>Тип фундамента:</strong> ленточный + плита 150 мм</li>
                        <li><strong>Материал несущих стен:</strong> газобетонные блоки 400 мм</li>
                        <li><strong>Материал перегородочных стен:</strong> газобетонные блоки 400 мм</li>
                        <li><strong>Фасад:</strong> декоративная штукатурка</li>
                        <li><strong>Тип кровли:</strong> четырехскатная</li>
                        <li><strong>Материал кровли:</strong> металлочерепица (толщина металла 0,45 мм)</li>
                        <li><strong>Утеплитель перекрытия:</strong> эковата 200 мм</li>
                        <li><strong>Софиты карнизов:</strong> да</li>
                        <li><strong>Водосточная система:</strong> да</li>
                        <li><strong>Окна:</strong> пятикамерный стеклопакет с внешней ламинацией</li>
                        <li><strong>Дверь:</strong> металлическая с терморазрывом</li>
                        <li><strong>Скважина:</strong> до 40 метров</li>
                        <li><strong>Водоотведение:</strong> септик с дренажным колодцем</li>
                    </ul>
                </div>
                <div class="projects-grid">
                    <div class="project-card animate-on-scroll-scale delay-1">
                        <div class="project-image atlant-mini-house">Проект "Атлант mini"</div>
                        <div class="project-content">
                            <h3>Проект "Атлант mini"</h3>
                            <p>Компактный и функциональный дом с современной планировкой 2+ и оптимальным использованием пространства</p>
                            <div class="project-price">Площадь: 62 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 2+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 5 250 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 6 300 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-2">
                        <div class="project-image atlant-house">Проект "Атлант"</div>
                        <div class="project-content">
                            <h3>Проект "Атлант"</h3>
                            <p>Просторный и надежный дом с удобной планировкой 2+, идеально подходящий для комфортной жизни</p>
                            <div class="project-price">Площадь: 75 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 2+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 5 500 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 6 600 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-3">
                        <div class="project-image optimal-house">Проект "Оптимал"</div>
                        <div class="project-content">
                            <h3>Проект "Оптимал"</h3>
                            <p>Оптимальное решение для семьи с планировкой 3+, сочетающее комфорт и функциональность</p>
                            <div class="project-price">Площадь: 85 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 000 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 6 950 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-4">
                        <div class="project-image optimal-90-house">Проект "Оптимал 90"</div>
                        <div class="project-content">
                            <h3>Проект "Оптимал 90"</h3>
                            <p>Улучшенная версия проекта Оптимал с увеличенной площадью и планировкой 3+ для большего комфорта</p>
                            <div class="project-price">Площадь: 90 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 200 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 7 300 000 ₽</div>
                        </div>
                    </div>
                    <div class="project-card animate-on-scroll-scale delay-5">
                        <div class="project-image optimal-plus-house">Проект "Оптимал +"</div>
                        <div class="project-content">
                            <h3>Проект "Оптимал +"</h3>
                            <p>Расширенная версия проекта Оптимал с улучшенной планировкой 3+ и дополнительными удобствами</p>
                            <div class="project-price">Площадь: 98 м²</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Планировка: 3+</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Теплый контур: 6 200 000 ₽</div>
                            <div class="project-price" style="margin-top: 0.5rem; font-size: 0.95rem;">Отделка White box: 7 300 000 ₽</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="projects-button-container">
                <button class="cta-button" id="projectCostBtn">
                    <i class="fas fa-calculator"></i> Узнать стоимость проекта
                </button>
            </div>
        </div>
    </section>

    <!-- Online Booking Section -->
    <section class="online-booking" id="booking">
        <div class="container">
            <h2 class="section-title animate-on-scroll">
                ОНЛАЙН ЗАПИСЬ <span class="booking-highlight" id="bookingTrigger">НА ПОКАЗ</span>
            </h2>
            <div class="booking-content animate-on-scroll-scale delay-2">
                <div class="calendar-wrapper" id="calendarWrapper">
                    <div class="calendar-header">
                        <button class="calendar-nav-btn" id="prevMonth">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h3 class="calendar-month" id="calendarMonth"></h3>
                        <button class="calendar-nav-btn" id="nextMonth">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>
                
                <div class="booking-form-wrapper">
                    <form class="booking-form" id="bookingForm">
                        <div class="selected-datetime" id="selectedDatetime">
                            <i class="fas fa-calendar-check"></i>
                            <span>Выберите дату</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="bookingName">Ваше имя *</label>
                            <input type="text" id="bookingName" name="name" placeholder="Введите ваше имя" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="bookingPhone">Ваш телефон *</label>
                            <input type="tel" id="bookingPhone" name="phone" placeholder="+7 (___) ___-__-__" required maxlength="18">
                        </div>
                        
                        <button type="submit" class="booking-submit-btn" id="bookingSubmitBtn" disabled>
                            <i class="fas fa-check-circle"></i> Забронировать
                        </button>
                        
                        <div class="consent-text">Нажимая на кнопку "Забронировать" я даю согласие на обработку персональных данных</div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Survey Section -->
    <section class="survey" id="survey">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Пройди опрос и получи стоимость будущего дома за 1 минуту!</h2>
            <p class="section-subtitle animate-on-scroll delay-1">Ответьте на несколько вопросов и узнайте точную стоимость строительства вашего дома</p>
            <div class="survey-container animate-on-scroll-scale delay-2">
                <form class="survey-form" id="quizForm">
                    <div id="quizStep"></div>
                </form>
            </div>
        </div>
    </section>

    <!-- Mortgage Calculator Section -->
    <section class="mortgage-calculator" id="calculator">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Ипотечный калькулятор</h2>
            <p class="section-subtitle animate-on-scroll delay-1">Рассчитайте ежемесячный платеж по ипотеке с актуальными ставками от Сбербанка</p>
            <div class="calculator-container animate-on-scroll delay-2">
                <iframe 
                    src="https://domclick.ru/ipoteka/calculator" 
                    width="100%" 
                    height="600px" 
                    frameborder="0" 
                    scrolling="no">
                </iframe>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section class="reviews-section" id="reviews">
        <div class="container">
            <h2 class="section-title animate-on-scroll">
                ОТЗЫВЫ НАШИХ КЛИЕНТОВ
            </h2>
            <p class="section-subtitle animate-on-scroll delay-1">Что говорят те, кто уже построил дом вместе с нами</p>
            
            <!-- Add Review Form -->
            <div class="add-review-card animate-on-scroll-scale delay-2">
                <h3><i class="fas fa-pen"></i> Оставьте свой отзыв</h3>
                <form id="reviewForm" class="review-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="reviewName">Ваше имя *</label>
                            <input type="text" id="reviewName" placeholder="Иван Иванов" required>
                        </div>
                        <div class="form-group">
                            <label for="reviewProject">Проект дома</label>
                            <input type="text" id="reviewProject" placeholder='Например: "Уют", "Оптимал"'>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="reviewRating">Оценка *</label>
                        <div class="rating-input" id="ratingInput">
                            <i class="far fa-star" data-rating="1"></i>
                            <i class="far fa-star" data-rating="2"></i>
                            <i class="far fa-star" data-rating="3"></i>
                            <i class="far fa-star" data-rating="4"></i>
                            <i class="far fa-star" data-rating="5"></i>
                        </div>
                        <input type="hidden" id="reviewRating" required>
                    </div>
                    <div class="form-group">
                        <label for="reviewText">Ваш отзыв *</label>
                        <textarea id="reviewText" rows="4" placeholder="Расскажите о вашем опыте работы с нами..." required></textarea>
                    </div>
                    <button type="submit" class="review-submit-btn">
                        <i class="fas fa-paper-plane"></i> Опубликовать отзыв
                    </button>
                </form>
            </div>

            <!-- Reviews List -->
            <div class="reviews-list" id="reviewsList">
                <!-- Отзывы будут добавляться здесь -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <h2 class="section-title animate-on-scroll">О компании</h2>
            <p class="section-subtitle animate-on-scroll delay-1">Мы создаем дома, которые становятся настоящим домом для вашей семьи</p>
            <div class="about-content">
                <div class="about-text animate-on-scroll-left delay-2">
                    <p><strong>«Умный подход к устройству Вашей жизни»</strong> - девиз и идеология нашей прогрессивной архитектурно-строительной компании.</p>
                    <br>
                    <p>Мы считаем, что дом – это не просто объект недвижимости, технологии и материалы. ВАШ дом – это комфортная среда, отражающая Ваш образ жизни, увлечения, потребности.</p>
                    <br>
                    <p>Экспертность в архитектуре, проектировании и строительстве позволяет нам создавать эффективные планировки, а также современные и ликвидные внешний облик и "начинку" домов.</p>
                    <br>
                    <p><strong>УЮТ СТРОЙ</strong> – проектируем и строим дома «Под ключ» и даже больше.</p>
                </div>
                <div class="about-text animate-on-scroll-right delay-3">
                    <h3>Наши достижения:</h3>
                    <ul>
                        <li>✅ 15 лет опыт строительства</li>
                        <li>✅ Более 300 Га земельных участков</li>
                        <li>✅ 5 лет гарантии на конструктив</li>
                        <li>✅ Ипотека от 6% на весь срок</li>
                        <li>✅ Семейная ипотека 6%</li>
                        <li>✅ Материнский капитал</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section class="portfolio" id="portfolio">
        <div class="container">
            <h2 class="portfolio-title">ПОРТФОЛИО</h2>
            <h3 class="portfolio-subtitle">Реализованные проекты</h3>
            
            <div class="portfolio-gallery">
                <div class="portfolio-item" data-image="images-project/portfolio/09bbcb263eda4ec08e89e723b5cd4fe0.png">
                    <img src="images-project/portfolio/09bbcb263eda4ec08e89e723b5cd4fe0.png" alt="Реализованный проект 1">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/0b622451d6a442d5960e68fa1c47f4b8.png">
                    <img src="images-project/portfolio/0b622451d6a442d5960e68fa1c47f4b8.png" alt="Реализованный проект 2">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/0e95f4648e9341a1a2a6773335c2ef2c.png">
                    <img src="images-project/portfolio/0e95f4648e9341a1a2a6773335c2ef2c.png" alt="Реализованный проект 3">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/0eaf604c93294878b373b3082e97f88f.png">
                    <img src="images-project/portfolio/0eaf604c93294878b373b3082e97f88f.png" alt="Реализованный проект 4">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/21a27db0d32046b0898859ea4489ff2e.png">
                    <img src="images-project/portfolio/21a27db0d32046b0898859ea4489ff2e.png" alt="Реализованный проект 5">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/244a10cbccd942c7b49c43be8b377609.png">
                    <img src="images-project/portfolio/244a10cbccd942c7b49c43be8b377609.png" alt="Реализованный проект 6">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/2ccaf20e975f423989f97307ea88ec98.png">
                    <img src="images-project/portfolio/2ccaf20e975f423989f97307ea88ec98.png" alt="Реализованный проект 7">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/306dc4ae8b634296a4c16e7fb2cbbad0.png">
                    <img src="images-project/portfolio/306dc4ae8b634296a4c16e7fb2cbbad0.png" alt="Реализованный проект 8">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/3515b8077eeb483897c3afe3fe4e1bbc.png">
                    <img src="images-project/portfolio/3515b8077eeb483897c3afe3fe4e1bbc.png" alt="Реализованный проект 9">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/38f39f1170d844fa80c6f466b119287e.png">
                    <img src="images-project/portfolio/38f39f1170d844fa80c6f466b119287e.png" alt="Реализованный проект 10">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/439b3b19b27649e281135b552ec65a54.png">
                    <img src="images-project/portfolio/439b3b19b27649e281135b552ec65a54.png" alt="Реализованный проект 11">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/48b530145737467fad536e8389232ab8.png">
                    <img src="images-project/portfolio/48b530145737467fad536e8389232ab8.png" alt="Реализованный проект 12">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/5c5657d89f87489387599105891c67e3.png">
                    <img src="images-project/portfolio/5c5657d89f87489387599105891c67e3.png" alt="Реализованный проект 13">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/6bb4067d734840e9a56f18745a3c7523.png">
                    <img src="images-project/portfolio/6bb4067d734840e9a56f18745a3c7523.png" alt="Реализованный проект 14">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/859576333725468985211d0ab37a2b5a.png">
                    <img src="images-project/portfolio/859576333725468985211d0ab37a2b5a.png" alt="Реализованный проект 15">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/85bd0d151f8f4e03ac106d218640356c.png">
                    <img src="images-project/portfolio/85bd0d151f8f4e03ac106d218640356c.png" alt="Реализованный проект 16">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/8723238701314d8da11d5cee2e502a04.png">
                    <img src="images-project/portfolio/8723238701314d8da11d5cee2e502a04.png" alt="Реализованный проект 17">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/8b8bd26311ec4a578385cc12680269ca.png">
                    <img src="images-project/portfolio/8b8bd26311ec4a578385cc12680269ca.png" alt="Реализованный проект 18">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/8bfec972da904d8c838a126bac0cab08.png">
                    <img src="images-project/portfolio/8bfec972da904d8c838a126bac0cab08.png" alt="Реализованный проект 19">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/9628693ab0a64731b416394a57686632.png">
                    <img src="images-project/portfolio/9628693ab0a64731b416394a57686632.png" alt="Реализованный проект 20">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/b7608fff025b4b88a7757122ed219caf.png">
                    <img src="images-project/portfolio/b7608fff025b4b88a7757122ed219caf.png" alt="Реализованный проект 21">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/bf54c37c67994b72972ce6c3b4612e5b.png">
                    <img src="images-project/portfolio/bf54c37c67994b72972ce6c3b4612e5b.png" alt="Реализованный проект 22">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/d26158054808494fa77d16f3cd3327ca.png">
                    <img src="images-project/portfolio/d26158054808494fa77d16f3cd3327ca.png" alt="Реализованный проект 23">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/e962887d073a435d8c37e123b2965345.png">
                    <img src="images-project/portfolio/e962887d073a435d8c37e123b2965345.png" alt="Реализованный проект 24">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/ea640051109447cdb666ac79d7af585a.png">
                    <img src="images-project/portfolio/ea640051109447cdb666ac79d7af585a.png" alt="Реализованный проект 25">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/ef9fa3635b724ddca8e692e22f4fe16d.png">
                    <img src="images-project/portfolio/ef9fa3635b724ddca8e692e22f4fe16d.png" alt="Реализованный проект 26">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/fc6edc4ac1844538b897d7e9be3a49f2.png">
                    <img src="images-project/portfolio/fc6edc4ac1844538b897d7e9be3a49f2.png" alt="Реализованный проект 27">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/fd85462fcdfd4d6aad0b1af22d4d6625.png">
                    <img src="images-project/portfolio/fd85462fcdfd4d6aad0b1af22d4d6625.png" alt="Реализованный проект 28">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="portfolio-item" data-image="images-project/portfolio/feaa8e51f66c440e8f1eb180f7a96b44.png">
                    <img src="images-project/portfolio/feaa8e51f66c440e8f1eb180f7a96b44.png" alt="Реализованный проект 29">
                    <div class="portfolio-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Lightbox Modal -->
    <div class="lightbox-modal" id="lightboxModal" style="display: none;">
        <button class="lightbox-close" id="lightboxClose">&times;</button>
        <button class="lightbox-prev" id="lightboxPrev">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="lightbox-next" id="lightboxNext">
            <i class="fas fa-chevron-right"></i>
        </button>
        <img src="" alt="Фото проекта" id="lightboxImage">
        <div class="lightbox-counter" id="lightboxCounter"></div>
    </div>

    <!-- Portfolio Consultation Section -->
    <section class="portfolio-consultation">
        <div class="container">
            <h2 class="consultation-title">ПОЛУЧИТЕ ПОДРОБНУЮ КОНСУЛЬТАЦИЮ ПО СТРОИТЕЛЬСТВУ ВАШЕГО ДОМА МЕЧТЫ</h2>
            <button class="cta-button" id="portfolioConsultBtn">
                <i class="fas fa-phone"></i> Получить подробную консультацию
            </button>
        </div>
    </section>

    <!-- Callback Modal -->
    <div class="modal-overlay" id="callbackModal" style="display:none;">
        <div class="modal-content">
            <button class="modal-close" id="modalCloseBtn">&times;</button>
            <h2 class="section-title" style="margin-bottom:1rem;">Узнайте с чего начать строительство</h2>
            <form class="contact-form" id="callbackForm">
                <div class="form-group">
                    <label for="callbackName">Имя *</label>
                    <input type="text" id="callbackName" name="name" placeholder="Ваше имя" required>
                </div>
                <div class="form-group">
                    <label for="callbackPhone">Ваш телефон *</label>
                    <input type="tel" id="callbackPhone" name="phone" placeholder="+7 (___) ___-__-__" required maxlength="18">
                </div>
                <div class="form-group">
                    <label for="callbackComment">Комментарий</label>
                    <textarea id="callbackComment" name="comment" placeholder="Комментарий..."></textarea>
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i> Заказать звонок
                </button>
                <div class="consent-text">Нажимая на кнопку “Заказать звонок” я даю  согласие на обработку персональных данных</div>
            </form>
        </div>
    </div>

    <!-- Project Cost Modal -->
    <div class="modal-overlay" id="projectCostModal" style="display:none;">
        <div class="modal-content">
            <button class="modal-close" id="projectCostModalCloseBtn">&times;</button>
            <h2 class="section-title" style="margin-bottom:1rem;">Узнайте стоимость готового проекта</h2>
            <form class="contact-form" id="projectCostForm">
                <div class="form-group">
                    <label for="projectCostName">Имя</label>
                    <input type="text" id="projectCostName" name="name" placeholder="Ваше имя" required>
                </div>
                <div class="form-group">
                    <label for="projectCostPhone">Ваш телефон</label>
                    <input type="tel" id="projectCostPhone" name="phone" placeholder="+7 (___) ___-__-__" required>
                </div>
                <div class="form-group">
                    <label for="projectCostProject">Проект дома</label>
                    <select id="projectCostProject" name="project" required>
                        <option value="">Выберите проект</option>
                        <option value="Уют">Уют</option>
                        <option value="Гармония">Гармония</option>
                        <option value="Симфония">Симфония</option>
                        <option value="Симфония MAX">Симфония MAX</option>
                        <option value="Идиллия">Идиллия</option>
                        <option value="Атлант mini">Атлант mini</option>
                        <option value="Атлант">Атлант</option>
                        <option value="Оптимал">Оптимал</option>
                        <option value="Оптимал 90">Оптимал 90</option>
                        <option value="Оптимал +">Оптимал +</option>
                        <option value="Премиум">Премиум</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-calculator"></i> Узнать стоимость
                </button>
                <div class="consent-text">Нажимая на кнопку "Узнать стоимость" я даю согласие на обработку персональных данных</div>
            </form>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage" style="display:none;">
        <div class="success-content">
            <i class="fas fa-check-circle"></i>
            <h3>Заявка отправлена!</h3>
            <p>С вами свяжется наш менеджер в ближайшее время</p>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div class="gallery-modal" id="galleryModal">
        <div class="gallery-container">
            <button class="gallery-close" id="galleryClose">&times;</button>
            <h3 class="gallery-title" id="galleryTitle">Проект "Уют"</h3>
            <button class="gallery-nav prev" id="galleryPrev">‹</button>
            <img src="" alt="Gallery Image" class="gallery-main-image" id="galleryMainImage">
            <button class="gallery-nav next" id="galleryNext">›</button>
            <div class="gallery-thumbnails" id="galleryThumbnails"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-section">
                <h4>УЮТ СТРОЙ</h4>
                <p>Строительная компания с 15-летним опытом работы. Мы создаем качественные дома под ключ с гарантией.</p>
            </div>
            <div class="footer-section">
                <h4>Контакты</h4>
                <p><i class="fas fa-phone"></i> <a href="tel:+79523499587">+7(952) 349-95-87</a></p>
                <p><i class="fas fa-phone"></i> <a href="tel:+79129296271">+7(912) 929-62-71</a></p>
                <p><i class="fas fa-envelope"></i> info@uyut-stroy.ru</p>
                <p><i class="fas fa-map-marker-alt"></i> г. Тюмень</p>
            </div>
            <div class="footer-section">
                <h4>Услуги</h4>
                <p>• Строительство домов под ключ</p>
                <p>• Проектирование</p>
                <p>• Земельные участки</p>
                <p>• Ипотечное кредитование</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 УЮТ СТРОЙ. Все права защищены.</p>
        </div>
    </footer>

    <!-- Кнопка "Наверх" -->
    <button class="scroll-to-top" id="scrollToTop" title="Наверх">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // Функция отправки сообщений в Telegram (ГЛОБАЛЬНАЯ - доступна везде)
        async function sendToTelegram(message) {
            // Определяем базовый URL API: при file:// используем абсолютный прод-домен, иначе относительный путь
            // Теперь используем локальный Node сервер по умолчанию
            const apiBase = (location.protocol === 'file:') ? 'http://localhost:3000' : '';
            console.log('📤 Начинаю отправку в Telegram...');
            console.log('Сообщение:', message.substring(0, 50) + '...');
            
            // Используем serverless функцию Vercel для отправки
            try {
                const response = await fetch(`${apiBase}/api/telegram`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: message
                    })
                });
                
                if (!response.ok) {
                    console.error('❌ HTTP ошибка:', response.status, response.statusText);
                    const errorData = await response.json().catch(() => ({}));
                    console.error('Детали ошибки:', errorData);
                    return false;
                }
                
                const data = await response.json();
                console.log('Ответ от сервера:', data);
                
                if (data.success) {
                    console.log('✅ Сообщение успешно отправлено в Telegram!');
                    return true;
                } else {
                    console.error('❌ Ошибка отправки:', data.error || 'Неизвестная ошибка');
                    return false;
                }
            } catch (error) {
                console.error('❌ Ошибка при отправке запроса:', error);
                return false;
            }
        }

        // Инициализация после загрузки DOM
        document.addEventListener('DOMContentLoaded', function() {
            // Прокрутка наверх при загрузке страницы
            window.scrollTo(0, 0);
            
            // Page loader
            const pageLoader = document.getElementById('pageLoader');
            if (pageLoader) {
                setTimeout(() => {
                    pageLoader.classList.add('hidden');
                    setTimeout(() => {
                        pageLoader.style.display = 'none';
                        // Дополнительная прокрутка наверх после скрытия загрузчика
                        window.scrollTo(0, 0);
                    }, 500);
                }, 1500);
            }

            // Scroll progress indicator
            window.addEventListener('scroll', () => {
                const scrollProgress = document.getElementById('scrollProgress');
                const scrollTop = window.pageYOffset;
                const docHeight = document.body.offsetHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                scrollProgress.style.width = scrollPercent + '%';
            });

            // Кнопка "Наверх"
            const scrollToTopBtn = document.getElementById('scrollToTop');
            if (scrollToTopBtn) {
                let scrollTimeout;
                
                // Показ/скрытие кнопки при прокрутке с задержкой
                window.addEventListener('scroll', () => {
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        if (window.pageYOffset > 300) {
                            scrollToTopBtn.classList.add('show');
                        } else {
                            scrollToTopBtn.classList.remove('show');
                        }
                    }, 100);
                });

                // Прокрутка наверх при клике
                scrollToTopBtn.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }

            // Intersection Observer for scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Специальная анимация для этапов работы
                        if (entry.target.classList.contains('stages-chain')) {
                            // Сначала анимируем соединительную линию
                            entry.target.classList.add('animated');
                            
                            // Затем анимируем элементы по очереди
                            const stageItems = document.querySelectorAll('.stage-item');
                            stageItems.forEach((item, index) => {
                                setTimeout(() => {
                                    item.classList.add('animated');
                                }, 500 + (index * 300)); // 500ms задержка для линии + 300ms между элементами
                            });
                        } else {
                            entry.target.classList.add('animated');
                        }
                    }
                });
            }, observerOptions);

            // Observe all elements with animation classes
            document.querySelectorAll('.animate-on-scroll, .animate-on-scroll-left, .animate-on-scroll-right, .animate-on-scroll-scale, .stages-chain').forEach(el => {
                observer.observe(el);
            });

            // Navigation functionality
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const href = this.getAttribute('href');
                    
                    // If clicking on portfolio link
                    if (href === '#portfolio') {
                        // Hide all main sections except header and footer
                        const sectionsToHide = [
                            '#hero', '.features', '#stages', '#projects', 
                            '#calculator', '#survey', '#about', '#reviews', '#booking'
                        ];
                        
                        sectionsToHide.forEach(selector => {
                            const section = document.querySelector(selector);
                            if (section) {
                                section.style.display = 'none';
                            }
                        });
                        
                        // Show portfolio sections
                        const portfolioSection = document.querySelector('#portfolio');
                        const portfolioConsultationSection = document.querySelector('.portfolio-consultation');
                        const footer = document.querySelector('.footer');
                        
                        if (portfolioSection) portfolioSection.style.display = 'block';
                        if (portfolioConsultationSection) portfolioConsultationSection.style.display = 'block';
                        if (footer) footer.style.display = 'block';
                        
                        // Scroll to portfolio
                        if (portfolioSection) {
                            portfolioSection.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    } else {
                        // For all other navigation links, ensure main sections are visible
                        const sectionsToShow = [
                            '#hero', '.features', '#stages', '#projects', 
                            '#calculator', '#survey', '#about', '#reviews', '#booking'
                        ];
                        
                        sectionsToShow.forEach(selector => {
                            const section = document.querySelector(selector);
                            if (section) {
                                section.style.display = 'block';
                            }
                        });
                        
                        // Hide portfolio sections
                        const portfolioSection = document.querySelector('#portfolio');
                        const portfolioConsultationSection = document.querySelector('.portfolio-consultation');
                        
                        if (portfolioSection) portfolioSection.style.display = 'none';
                        if (portfolioConsultationSection) portfolioConsultationSection.style.display = 'none';
                        
                        // Scroll to target
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });
            });

            // Logo click to return to main page
            const logoLinks = document.querySelectorAll('.logo, .logo-text');
            logoLinks.forEach(logo => {
                logo.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Show all main sections
                    const sectionsToShow = [
                        '#hero', '.features', '#stages', '#projects', 
                        '#calculator', '#survey', '#about'
                    ];
                    
                    sectionsToShow.forEach(selector => {
                        const section = document.querySelector(selector);
                        if (section) {
                            section.style.display = 'block';
                        }
                    });
                    
                    // Hide portfolio sections
                    const portfolioSection = document.querySelector('#portfolio');
                    const portfolioConsultationSection = document.querySelector('.portfolio-consultation');
                    
                    if (portfolioSection) portfolioSection.style.display = 'none';
                    if (portfolioConsultationSection) portfolioConsultationSection.style.display = 'none';
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            // Header background on scroll
            window.addEventListener('scroll', () => {
                const header = document.querySelector('.header');
                if (window.scrollY > 100) {
                    header.style.background = 'rgba(255, 255, 255, 0.98)';
                    header.style.boxShadow = '0 2px 20px rgba(0,0,0,0.1)';
                } else {
                    header.style.background = 'rgba(255, 255, 255, 0.95)';
                    header.style.boxShadow = 'none';
                }
            });

            // Логотип: прокрутка вверх при клике
            document.querySelectorAll('.logo').forEach(logo => {
                logo.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            // Адаптивное меню для всех устройств
            const menuToggle = document.getElementById('burgerMenu');
            const nav = document.querySelector('.nav');
            const navLinks = document.querySelector('.nav-links');
            const header = document.querySelector('.header');
            const body = document.body;

            // Функция для определения размера экрана
            function getScreenSize() {
                return window.innerWidth;
            }

            // Функция для определения типа устройства
            function isMobileDevice() {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || 
                       window.innerWidth <= 900;
            }

            // Функция для адаптации шапки
            function adaptHeader() {
                const screenWidth = getScreenSize();
                const isMobile = isMobileDevice();
                
                // Получаем элементы для скрытия/показа
                const logoText = document.getElementById('logoText');
                
                if (isMobile || screenWidth <= 900) {
                    // Мобильные и планшеты
                    nav.classList.add('nav--mobile');
                    header.classList.add('header--mobile');
                    
                    
                    // Перемещаем логотип в правый верхний угол на мобильных
                    if (logoText) {
                        logoText.classList.remove('logo-text--desktop');
                        logoText.classList.add('logo-text--mobile');
                    }
                } else {
                    // Десктоп
                    nav.classList.remove('nav--mobile');
                    header.classList.remove('header--mobile');
                    
                    
                    // Перемещаем логотип в левый верхний угол на десктопе
                    if (logoText) {
                        logoText.classList.remove('logo-text--mobile');
                        logoText.classList.add('logo-text--desktop');
                    }
                    
                    // Закрываем мобильное меню при переходе на десктоп
                    navLinks.classList.remove('open');
                    menuToggle.classList.remove('active');
                    body.classList.remove('menu-open');
                }
            }

            // Переключение мобильного меню
            if (menuToggle && navLinks) {
                menuToggle.addEventListener('click', () => {
                    navLinks.classList.toggle('open');
                    menuToggle.classList.toggle('active');
                    body.classList.toggle('menu-open');
                    
                    // Предотвращаем скролл при открытом меню
                    if (navLinks.classList.contains('open')) {
                        body.style.overflow = 'hidden';
                    } else {
                        body.style.overflow = '';
                    }
                });

                // Закрытие меню по клику на ссылку
                navLinks.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        navLinks.classList.remove('open');
                        menuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                        body.style.overflow = '';
                    });
                });

                // Закрытие меню по клику вне его области
                document.addEventListener('click', (e) => {
                    if (!nav.contains(e.target) && navLinks.classList.contains('open')) {
                        navLinks.classList.remove('open');
                        menuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                        body.style.overflow = '';
                    }
                });

                // Закрытие меню по нажатию Escape
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && navLinks.classList.contains('open')) {
                        navLinks.classList.remove('open');
                        menuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                        body.style.overflow = '';
                    }
                });
            }

            // Адаптация при изменении размера окна
            window.addEventListener('resize', () => {
                adaptHeader();
            });

            // Инициализация при загрузке
            adaptHeader();

            // Обработка клика по логотипу для обновления страницы
            function handleLogoClick(event) {
                event.preventDefault();
                window.location.reload();
            }

            // Добавляем обработчик клика для логотипа
            const logoText = document.getElementById('logoText');
            if (logoText) {
                logoText.addEventListener('click', handleLogoClick);
            }


            // === Обработка формы консультации ===
            const contactForm = document.querySelector('.contact-form');
            if (contactForm) {
                // Маска для телефона для формы в модальном окне
                const callbackPhoneInput = document.getElementById('callbackPhone');
                if (callbackPhoneInput) {
                    callbackPhoneInput.addEventListener('input', function(e) {
                        let x = this.value.replace(/\D/g, '').substring(0, 11);
                        let formatted = '+7';
                        if (x.length > 1) {
                            formatted += ' (' + x.substring(1, 4);
                        }
                        if (x.length >= 4) {
                            formatted += ') ' + x.substring(4, 7);
                        }
                        if (x.length >= 7) {
                            formatted += '-' + x.substring(7, 9);
                        }
                        if (x.length >= 9) {
                            formatted += '-' + x.substring(9, 11);
                        }
                        this.value = formatted;
                    });
                    callbackPhoneInput.addEventListener('focus', function() {
                        if (!this.value) this.value = '+7 (';
                    });
                    callbackPhoneInput.addEventListener('blur', function() {
                        if (this.value === '+7 (') this.value = '';
                    });
                }
                contactForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const name = this.querySelector('input[placeholder="Ваше имя"]').value.trim();
                    const phone = this.querySelector('input[placeholder="Ваш телефон"]').value.trim();
                    const message = this.querySelector('textarea').value.trim();

                    // Валидация
                    if (!name || !phone) {
                        showNotify('Пожалуйста, заполните обязательные поля: имя и телефон.', false);
                        return;
                    }

                    // Лоадер
                    const btn = this.querySelector('.submit-btn');
                    const oldText = btn.innerHTML;
                    btn.innerHTML = 'Отправка...';
                    btn.disabled = true;

                    // Отправка данных в Telegram через JavaScript
                    const messageText = `🔔 <b>Новая заявка на консультацию:</b>\n\n👤 <b>Имя:</b> ${name}\n📞 <b>Телефон:</b> ${phone}\n💬 <b>Сообщение:</b> ${message}`;

                    console.log('🔄 Форма консультации: начинаю отправку...');
                    
                    let success = false;
                    try {
                        success = await sendToTelegram(messageText);
                    } catch (error) {
                        console.error('❌ Ошибка в форме консультации:', error);
                        success = false;
                    }

                    if (success) {
                        console.log('✅ Консультация: отправлено');
                        showNotify('Спасибо! Ваша заявка отправлена.', true);
                        this.reset();
                        btn.innerHTML = oldText;
                        btn.disabled = false;
                    } else {
                        console.log('❌ Консультация: не отправлено');
                        showNotify('Ошибка отправки. Попробуйте ещё раз.', false);
                        btn.innerHTML = oldText;
                        btn.disabled = false;
                    }
                });
            }

            // Отправка формы из модального окна в Telegram
            const callbackForm = document.getElementById('callbackForm');
            if (callbackForm) {
                callbackForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const name = document.getElementById('callbackName').value.trim();
                    const phone = document.getElementById('callbackPhone').value.trim();
                    const comment = document.getElementById('callbackComment').value.trim();
                    if (!name || !phone) {
                        showNotify('Пожалуйста, заполните обязательные поля: имя и телефон.', false);
                        return;
                    }
                    const btn = callbackForm.querySelector('.submit-btn');
                    const oldText = btn.innerHTML;
                    btn.innerHTML = 'Отправка...';
                    btn.disabled = true;

                    // Отправка данных в Telegram через JavaScript
                    const messageText = `📞 <b>Новая заявка на обратный звонок:</b>\n\n👤 <b>Имя:</b> ${name}\n📱 <b>Телефон:</b> ${phone}\n💬 <b>Комментарий:</b> ${comment}`;

                    console.log('🔄 Форма обратного звонка: начинаю отправку...');
                    
                    let success = false;
                    try {
                        success = await sendToTelegram(messageText);
                    } catch (error) {
                        console.error('❌ Ошибка в форме звонка:', error);
                        success = false;
                    }

                    if (success) {
                        console.log('✅ Обратный звонок: отправлено');
                        showNotify('Спасибо! Ваша заявка отправлена.', true);
                        callbackForm.reset();
                        btn.innerHTML = oldText;
                        btn.disabled = false;
                        document.getElementById('callbackModal').style.display = 'none';
                    } else {
                        console.log('❌ Обратный звонок: не отправлено');
                        showNotify('Ошибка отправки. Попробуйте ещё раз.', false);
                        btn.innerHTML = oldText;
                        btn.disabled = false;
                    }
                });
            }

            // Открытие модального окна по кнопке "Получить подробную консультацию" в портфолио
            const portfolioConsultBtn = document.getElementById('portfolioConsultBtn');
            if (portfolioConsultBtn) {
                portfolioConsultBtn.addEventListener('click', function() {
                    const callbackModal = document.getElementById('callbackModal');
                    if (callbackModal) {
                        callbackModal.style.display = 'flex';
                        setTimeout(() => {
                            callbackModal.classList.add('show');
                        }, 10);
                        // Сброс формы при открытии
                        const form = callbackModal.querySelector('form');
                        if (form) form.reset();
                    }
                });
            }

            // Открытие модального окна по кнопке "Получить бесплатную консультацию"
            const consultBtn = document.getElementById('consultBtn');
            if (consultBtn) {
                consultBtn.addEventListener('click', function() {
                    const callbackModal = document.getElementById('callbackModal');
                    if (callbackModal) {
                        callbackModal.style.display = 'flex';
                        setTimeout(() => {
                            callbackModal.classList.add('show');
                        }, 10);
                        // Сброс формы при открытии
                        const form = callbackModal.querySelector('form');
                        if (form) form.reset();
                    }
                });
            }

            // Открытие модального окна по ссылке "Получить консультацию" в навигации
            const consultNavLink = document.getElementById('consultNavLink');
            if (consultNavLink) {
                consultNavLink.addEventListener('click', function(e) {
                    e.preventDefault(); // Предотвращаем стандартное поведение ссылки
                    const callbackModal = document.getElementById('callbackModal');
                    if (callbackModal) {
                        callbackModal.style.display = 'flex';
                        setTimeout(() => {
                            callbackModal.classList.add('show');
                        }, 10);
                        // Сброс формы при открытии
                        const form = callbackModal.querySelector('form');
                        if (form) form.reset();
                    }
                });
            }

            // Модальное окно для заказа звонка
            const callbackModal = document.getElementById('callbackModal');
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            
            // Обработчики для закрытия модального окна
            if (callbackModal && modalCloseBtn) {
                modalCloseBtn.addEventListener('click', function() {
                    callbackModal.classList.remove('show');
                    setTimeout(() => {
                        callbackModal.style.display = 'none';
                    }, 300);
                });
                callbackModal.addEventListener('click', function(e) {
                    if (e.target === callbackModal) {
                        callbackModal.classList.remove('show');
                        setTimeout(() => {
                            callbackModal.style.display = 'none';
                        }, 300);
                    }
                });
            }

            // Функция для показа уведомления
            function showNotify(text, success) {
                let notify = document.getElementById('notify-popup');
                if (!notify) {
                    notify = document.createElement('div');
                    notify.id = 'notify-popup';
                    notify.style.position = 'fixed';
                    notify.style.bottom = '30px';
                    notify.style.left = '50%';
                    notify.style.transform = 'translateX(-50%) translateY(100px)';
                    notify.style.zIndex = '9999';
                    notify.style.padding = '18px 32px';
                    notify.style.borderRadius = '12px';
                    notify.style.fontSize = '1.1rem';
                    notify.style.color = '#fff';
                    notify.style.boxShadow = '0 4px 24px rgba(0,0,0,0.12)';
                    notify.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    notify.style.opacity = '0';
                    document.body.appendChild(notify);
                }
                notify.style.background = success ? '#4BB543' : '#D7263D';
                notify.textContent = text;
                notify.style.display = 'block';
                
                // Анимация появления
                setTimeout(() => {
                    notify.style.transform = 'translateX(-50%) translateY(0)';
                    notify.style.opacity = '1';
                }, 10);
                
                // Анимация исчезновения
                setTimeout(() => {
                    notify.style.transform = 'translateX(-50%) translateY(100px)';
                    notify.style.opacity = '0';
                    setTimeout(() => {
                        notify.style.display = 'none';
                    }, 300);
                }, 3200);
            }

            // --- Новый пошаговый опросник ---
            const quizData = [
                {
                    question: 'Сколько этажей будет в Вашем доме?',
                    answers: ['1 этаж', '1 этаж + мансарда', '2 этажа', 'Еще не знаю'],
                    multiple: true
                },
                {
                    question: 'Укажите желаемую площадь дома',
                    answers: ['80-100 м²', '100-150 м²', '150-200 м²', 'Еще не знаю'],
                    multiple: true
                },
                {
                    question: 'У вас уже есть земельный участок?',
                    answers: ['Да', 'Нет'],
                    multiple: true
                },
                {
                    question: 'В каком диапазоне цен подберем проекты?',
                    answers: ['До 6 млн.₽', '6-8 млн.₽', '8-10 млн.₽', 'Свыше 10 млн.₽', 'Еще не определился'],
                    multiple: true
                },
                {
                    question: 'Когда хотите начать строить дом?',
                    answers: ['В ближайший месяц', 'В ближайшие 2-3 месяца', 'В ближайшие 3-6 месяцев', 'Еще не знаю'],
                    multiple: true
                }
            ];

            const quizForm = document.getElementById('quizForm');
            const quizStep = document.getElementById('quizStep');
            let quizCurrent = 0;
            let quizAnswers = Array(quizData.length).fill([]);

            function renderQuizStep() {
                if (!quizStep) return;
                quizStep.innerHTML = '';
                let errorDiv = document.createElement('div');
                errorDiv.className = 'quiz-error';
                errorDiv.style.display = 'none';
                quizStep.appendChild(errorDiv);
                if (quizCurrent < quizData.length) {
                    const q = quizData[quizCurrent];
                    const qTitle = document.createElement('h3');
                    qTitle.textContent = q.question;
                    qTitle.style.textAlign = 'center';
                    qTitle.style.marginBottom = '1.2rem';
                    quizStep.appendChild(qTitle);
                    const answersDiv = document.createElement('div');
                    answersDiv.className = 'quiz-answers';
                    q.answers.forEach((ans, idx) => {
                        const ansDiv = document.createElement('div');
                        ansDiv.className = 'quiz-answer';
                        ansDiv.textContent = ans;
                        ansDiv.tabIndex = 0;
                        ansDiv.addEventListener('click', () => {
                            if (!quizAnswers[quizCurrent]) quizAnswers[quizCurrent] = [];
                            if (ansDiv.classList.contains('selected')) {
                                ansDiv.classList.remove('selected');
                                quizAnswers[quizCurrent] = quizAnswers[quizCurrent].filter(a => a !== ans);
                            } else {
                                ansDiv.classList.add('selected');
                                quizAnswers[quizCurrent] = [...quizAnswers[quizCurrent], ans];
                            }
                        });
                        answersDiv.appendChild(ansDiv);
                    });
                    quizStep.appendChild(answersDiv);
                    const nextBtn = document.createElement('button');
                    nextBtn.type = 'button';
                    nextBtn.className = 'next-btn';
                    nextBtn.textContent = 'Далее';
                    nextBtn.style.margin = '0 auto';
                    nextBtn.style.display = 'block';
                    nextBtn.addEventListener('click', () => {
                        if (!quizAnswers[quizCurrent] || quizAnswers[quizCurrent].length === 0) {
                            errorDiv.textContent = 'Выберите хотя бы один вариант ответа';
                            errorDiv.style.display = 'block';
                            return;
                        }
                        errorDiv.style.display = 'none';
                        quizCurrent++;
                        renderQuizStep();
                    });
                    quizStep.appendChild(nextBtn);
                } else {
                    // Финальный шаг: телефон и отправка
                    const finalText = document.createElement('div');
                    finalText.innerHTML = '<div style="text-align:center;font-size:1.2rem;margin-bottom:1.2rem;">Чтобы узнать стоимость, отправьте нам заявку и мы вам позвоним!</div>';
                    quizStep.appendChild(finalText);
                    const phoneGroup = document.createElement('div');
                    phoneGroup.className = 'quiz-phone-group';
                    const phoneInput = document.createElement('input');
                    phoneInput.type = 'tel';
                    phoneInput.placeholder = '+7 (___) ___-__-__';
                    phoneInput.maxLength = 18;
                    phoneInput.required = true;
                    phoneInput.id = 'quizPhoneInput';
                    phoneGroup.appendChild(phoneInput);
                    quizStep.appendChild(phoneGroup);
                    // Маска телефона
                    phoneInput.addEventListener('input', function(e) {
                        let x = this.value.replace(/\D/g, '').substring(0, 11);
                        let formatted = '+7';
                        if (x.length > 1) {
                            formatted += ' (' + x.substring(1, 4);
                        }
                        if (x.length >= 4) {
                            formatted += ') ' + x.substring(4, 7);
                        }
                        if (x.length >= 7) {
                            formatted += '-' + x.substring(7, 9);
                        }
                        if (x.length >= 9) {
                            formatted += '-' + x.substring(9, 11);
                        }
                        this.value = formatted;
                    });
                    phoneInput.addEventListener('focus', function() {
                        if (!this.value) this.value = '+7 (';
                    });
                    phoneInput.addEventListener('blur', function() {
                        if (this.value === '+7 (') this.value = '';
                    });
                    const submitBtn = document.createElement('button');
                    submitBtn.type = 'submit';
                    submitBtn.className = 'quiz-submit-btn';
                    submitBtn.textContent = 'Узнать стоимость';
                    quizStep.appendChild(submitBtn);
                    // Ошибка для телефона
                    const phoneError = document.createElement('div');
                    phoneError.className = 'quiz-error';
                    phoneError.style.display = 'none';
                    quizStep.appendChild(phoneError);
                }
            }

            if (quizForm && quizStep) {
                quizAnswers = Array(quizData.length).fill([]);
                quizCurrent = 0;
                renderQuizStep();
                quizForm.onsubmit = async function(e) {
                    e.preventDefault();
                    const phoneInput = document.getElementById('quizPhoneInput');
                    const phoneError = quizStep.querySelector('.quiz-error:last-child');
                    if (!phoneInput.value || phoneInput.value.length < 18) {
                        phoneError.textContent = 'Пожалуйста, введите корректный номер телефона';
                        phoneError.style.display = 'block';
                        return;
                    }
                    phoneError.style.display = 'none';
                    // Формируем текст для Telegram
                    let messageText = '📋 <b>Принята заявка на расчет стоимости:</b>\n\n';
                    quizData.forEach((q, idx) => {
                        messageText += `❓ <b>${q.question}</b>\n✅ Ответ: ${(quizAnswers[idx]||[]).join(', ')}\n\n`;
                    });
                    messageText += `📱 <b>Телефон:</b> ${phoneInput.value}`;

                    console.log('🔄 Викторина: начинаю отправку...');
                    
                    let success = false;
                    try {
                        success = await sendToTelegram(messageText);
                    } catch (error) {
                        console.error('❌ Ошибка в викторине:', error);
                        success = false;
                    }

                    if (success) {
                        console.log('✅ Викторина: отправлено');
                        quizStep.innerHTML = '<div style="text-align:center;padding:2rem;"><h3>Спасибо!</h3><p>Ваша заявка отправлена.<br>Мы свяжемся с вами в ближайшее время.</p></div>';
                    } else {
                        console.log('❌ Викторина: не отправлено');
                        phoneError.textContent = 'Ошибка отправки. Попробуйте ещё раз.';
                        phoneError.style.display = 'block';
                    }
                };
            }
        });

        // Дополнительная прокрутка наверх при полной загрузке страницы
        window.addEventListener('load', function() {
            window.scrollTo(0, 0);
        });

        // Прокрутка наверх при обновлении страницы
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0);
        });

        // === Обработка модального окна "Узнать стоимость проекта" ===
        
        // Открытие модального окна по кнопке "Узнать стоимость проекта"
        const projectCostBtn = document.getElementById('projectCostBtn');
        if (projectCostBtn) {
            projectCostBtn.addEventListener('click', function() {
                const modal = document.getElementById('projectCostModal');
                if (modal) {
                    modal.style.display = 'flex';
                    setTimeout(() => {
                        modal.classList.add('show');
                    }, 10);
                    // Сброс формы при открытии
                    const form = modal.querySelector('form');
                    if (form) form.reset();
                }
            });
        }

        // Закрытие модального окна "Узнать стоимость проекта"
        const projectCostModalCloseBtn = document.getElementById('projectCostModalCloseBtn');
        if (projectCostModalCloseBtn) {
            projectCostModalCloseBtn.addEventListener('click', function() {
                const modal = document.getElementById('projectCostModal');
                if (modal) {
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                    }, 300);
                }
            });
        }

        // Закрытие модального окна по клику вне его области
        const projectCostModal = document.getElementById('projectCostModal');
        if (projectCostModal) {
            projectCostModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                    setTimeout(() => {
                        this.style.display = 'none';
                    }, 300);
                }
            });
        }

        // Маска для телефона в форме "Узнать стоимость проекта"
        const projectCostPhoneInput = document.getElementById('projectCostPhone');
        if (projectCostPhoneInput) {
            projectCostPhoneInput.addEventListener('input', function(e) {
                let x = this.value.replace(/\D/g, '').substring(0, 11);
                let formatted = '+7';
                if (x.length > 1) {
                    formatted += ' (' + x.substring(1, 4);
                }
                if (x.length >= 5) {
                    formatted += ') ' + x.substring(4, 7);
                }
                if (x.length >= 8) {
                    formatted += '-' + x.substring(7, 9);
                }
                if (x.length >= 10) {
                    formatted += '-' + x.substring(9, 11);
                }
                this.value = formatted;
            });
            projectCostPhoneInput.addEventListener('focus', function() {
                if (!this.value) this.value = '+7 (';
            });
            projectCostPhoneInput.addEventListener('blur', function() {
                if (this.value === '+7 (') this.value = '';
            });
        }

        // Отправка формы "Узнать стоимость проекта" в Telegram
        const projectCostForm = document.getElementById('projectCostForm');
        if (projectCostForm) {
            projectCostForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const name = document.getElementById('projectCostName').value.trim();
                const phone = document.getElementById('projectCostPhone').value.trim();
                const project = document.getElementById('projectCostProject').value;

                if (!name || !phone || !project) {
                    showNotify('Пожалуйста, заполните все поля', false);
                    return;
                }

                const btn = this.querySelector('.submit-btn');
                const oldText = btn.innerHTML;
                btn.innerHTML = 'Отправка...';
                btn.disabled = true;

                // Отправка данных в Telegram через JavaScript
                const messageText = `💰 <b>Новая заявка на расчет стоимости проекта:</b>\n\n👤 <b>Имя:</b> ${name}\n📞 <b>Телефон:</b> ${phone}\n🏠 <b>Проект:</b> ${project}`;

                console.log('🔄 Форма "Расчёт стоимости": начинаю отправку...');
                
                let success = false;
                try {
                    success = await sendToTelegram(messageText);
                } catch (error) {
                    console.error('❌ Ошибка в форме расчёта:', error);
                    success = false;
                }

                console.log('Результат отправки формы расчёта:', success);

                if (success) {
                    console.log('✅ Форма расчёта: отправлено успешно');
                    
                    // Закрываем модальное окно
                    const modal = document.getElementById('projectCostModal');
                    if (modal) {
                        modal.classList.remove('show');
                        setTimeout(() => {
                            modal.style.display = 'none';
                        }, 300);
                    }
                    
                    // Показываем сообщение об успехе
                    showSuccessMessage();
                    
                    // Сброс формы
                    this.reset();
                    btn.innerHTML = oldText;
                    btn.disabled = false;
                } else {
                    console.log('❌ Форма расчёта: не удалось отправить');
                    showNotify('Ошибка отправки. Попробуйте ещё раз или позвоните нам.', false);
                    btn.innerHTML = oldText;
                    btn.disabled = false;
                }
            });
        }

        // Функция показа сообщения об успехе
        function showSuccessMessage() {
            const successMessage = document.getElementById('successMessage');
            if (successMessage) {
                successMessage.style.display = 'flex';
                setTimeout(() => {
                    successMessage.classList.add('show');
                }, 10);
                
                // Автоматическое закрытие через 5 секунд
                setTimeout(() => {
                    successMessage.classList.remove('show');
                    setTimeout(() => {
                        successMessage.style.display = 'none';
                    }, 300);
                }, 5000);
            }
        }

        // Закрытие сообщения об успехе по клику
        const successMessage = document.getElementById('successMessage');
        if (successMessage) {
            successMessage.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                    setTimeout(() => {
                        this.style.display = 'none';
                    }, 300);
                }
            });
        }

        // Gallery functionality
        const galleryData = {
            'уют': {
                title: 'Проект "Уют"',
                images: [
                    'images-project/uyut/1.jpeg',
                    'images-project/uyut/2.jpeg',
                    'images-project/uyut/3.jpeg',
                    'images-project/uyut/4.jpeg',
                    'images-project/uyut/layout.jpg'
                ]
            },
            'гармония': {
                title: 'Проект "Гармония"',
                images: [
                    'images-project/garmoniya/1.jpeg',
                    'images-project/garmoniya/2.jpeg',
                    'images-project/garmoniya/3.jpeg',
                    'images-project/garmoniya/4.jpeg',
                    'images-project/garmoniya/layout.png'
                ]
            },
            'симфония': {
                title: 'Проект "Симфония"',
                images: [
                    'images-project/simfoniya/1.JPEG',
                    'images-project/simfoniya/2.JPEG',
                    'images-project/simfoniya/3.JPEG',
                    'images-project/simfoniya/4.JPEG',
                    'images-project/simfoniya/layout.jpg'
                ]
            },
            'симфония-max': {
                title: 'Проект "Симфония MAX"',
                images: [
                    'images-project/simfoniya-max/1.jpg',
                    'images-project/simfoniya-max/2.jpg',
                    'images-project/simfoniya-max/3.jpg',
                    'images-project/simfoniya-max/4.jpg',
                    'images-project/simfoniya-max/5.jpg',
                    'images-project/simfoniya-max/layout.jpg'
                ]
            },
            'идиллия': {
                title: 'Проект "Идиллия"',
                images: [
                    'images-project/idilliya/1.jpeg',
                    'images-project/idilliya/2.jpeg',
                    'images-project/idilliya/3.jpeg',
                    'images-project/idilliya/4.jpeg',
                    'images-project/idilliya/5.jpeg',
                    'images-project/idilliya/layout.png'
                ]
            },
            'атлант-mini': {
                title: 'Проект "Атлант mini"',
                images: [
                    'images-project/atlant-mini/1.jpeg',
                    'images-project/atlant-mini/2.jpeg',
                    'images-project/atlant-mini/3.jpeg',
                    'images-project/atlant-mini/4.jpeg',
                    'images-project/atlant-mini/layout.jpg'
                ]
            },
            'атлант': {
                title: 'Проект "Атлант"',
                images: [
                    'images-project/atlant/1.jpeg',
                    'images-project/atlant/2.jpeg',
                    'images-project/atlant/3.jpeg',
                    'images-project/atlant/4.jpeg',
                    'images-project/atlant/layout.png'
                ]
            },
            'оптимал': {
                title: 'Проект "Оптимал"',
                images: [
                    'images-project/optimal/1.jpeg',
                    'images-project/optimal/2.jpeg',
                    'images-project/optimal/3.jpeg',
                    'images-project/optimal/4.jpeg',
                    'images-project/optimal/layout.png'
                ]
            },
            'оптимал-90': {
                title: 'Проект "Оптимал 90"',
                images: [
                    'images-project/optimal-90/1.jpeg',
                    'images-project/optimal-90/2.jpeg',
                    'images-project/optimal-90/3.jpeg',
                    'images-project/optimal-90/4.jpeg',
                    'images-project/optimal-90/layout.png'
                ]
            },
            'премиум': {
                title: 'Проект "Премиум"',
                images: [
                    'images-project/premium/1.jpeg',
                    'images-project/premium/2.jpeg',
                    'images-project/premium/3.jpeg',
                    'images-project/premium/4.jpeg',
                    'images-project/premium/layout.png'
                ]
            },
            'оптимал-плюс': {
                title: 'Проект "Оптимал +"',
                images: [
                    'images-project/optimal-plus/1.jpg',
                    'images-project/optimal-plus/2.jpg',
                    'images-project/optimal-plus/3.jpg',
                    'images-project/optimal-plus/4.jpg',
                    'images-project/optimal-plus/5.jpg',
                    'images-project/optimal-plus/6.jpg',
                    'images-project/optimal-plus/7.jpg',
                    'images-project/optimal-plus/8.jpg',
                    'images-project/optimal-plus/layout.jpg'
                ]
            },
            'опера': {
                title: 'Проект "Опера"',
                images: [
                    'images-project/opera/1.jpg',
                    'images-project/opera/2.jpg',
                    'images-project/opera/3.jpg',
                    'images-project/opera/4.jpg',
                    'images-project/opera/layout.jpg'
                ]
            }
        };

        let currentImageIndex = 0;
        let currentGallery = [];

        function openGallery(projectKey) {
            const gallery = galleryData[projectKey];
            if (!gallery) return;

            currentGallery = gallery.images;
            currentImageIndex = 0;

            const galleryModal = document.getElementById('galleryModal');
            const galleryTitle = document.getElementById('galleryTitle');
            const galleryMainImage = document.getElementById('galleryMainImage');
            const galleryThumbnails = document.getElementById('galleryThumbnails');

            galleryTitle.textContent = gallery.title;
            galleryMainImage.src = currentGallery[0];

            // Create thumbnails
            galleryThumbnails.innerHTML = '';
            currentGallery.forEach((img, index) => {
                const thumb = document.createElement('img');
                thumb.src = img;
                thumb.className = 'gallery-thumbnail' + (index === 0 ? ' active' : '');
                thumb.addEventListener('click', () => showImage(index));
                galleryThumbnails.appendChild(thumb);
            });

            galleryModal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeGallery() {
            const galleryModal = document.getElementById('galleryModal');
            galleryModal.classList.remove('show');
            document.body.style.overflow = '';
        }

        function showImage(index) {
            if (index < 0) index = currentGallery.length - 1;
            if (index >= currentGallery.length) index = 0;

            currentImageIndex = index;
            const galleryMainImage = document.getElementById('galleryMainImage');
            galleryMainImage.src = currentGallery[index];

            // Update active thumbnail
            const thumbnails = document.querySelectorAll('.gallery-thumbnail');
            thumbnails.forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
        }

        function nextImage() {
            showImage(currentImageIndex + 1);
        }

        function prevImage() {
            showImage(currentImageIndex - 1);
        }

        // Event listeners for gallery
        document.getElementById('galleryClose').addEventListener('click', closeGallery);
        document.getElementById('galleryNext').addEventListener('click', nextImage);
        document.getElementById('galleryPrev').addEventListener('click', prevImage);

        document.getElementById('galleryModal').addEventListener('click', function(e) {
            if (e.target === this) closeGallery();
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            const galleryModal = document.getElementById('galleryModal');
            if (galleryModal.classList.contains('show')) {
                if (e.key === 'ArrowRight') nextImage();
                if (e.key === 'ArrowLeft') prevImage();
                if (e.key === 'Escape') closeGallery();
            }
        });

        // Add click event to Уют project card
        const uyutCards = document.querySelectorAll('.project-card .uyut-house');
        uyutCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('уют');
            });
        });

        // Add click event to Гармония project card
        const harmonyCards = document.querySelectorAll('.project-card .harmony-house');
        harmonyCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('гармония');
            });
        });

        // Add click event to Симфония project card
        const symphonyCards = document.querySelectorAll('.project-card .symphony-house');
        symphonyCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('симфония');
            });
        });

        // Add click event to Симфония MAX project card
        const symphonyMaxCards = document.querySelectorAll('.project-card .symphony-max-house');
        symphonyMaxCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('симфония-max');
            });
        });

        // Add click event to Идиллия project card
        const idylliaCards = document.querySelectorAll('.project-card .idyllia-house');
        idylliaCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('идиллия');
            });
        });

        // Add click event to Атлант mini project card
        const atlantMiniCards = document.querySelectorAll('.project-card .atlant-mini-house');
        atlantMiniCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('атлант-mini');
            });
        });

        // Add click event to Атлант project card
        const atlantCards = document.querySelectorAll('.project-card .atlant-house');
        atlantCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('атлант');
            });
        });

        // Add click event to Оптимал project card
        const optimalCards = document.querySelectorAll('.project-card .optimal-house');
        optimalCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('оптимал');
            });
        });

        // Add click event to Оптимал 90 project card
        const optimal90Cards = document.querySelectorAll('.project-card .optimal-90-house');
        optimal90Cards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('оптимал-90');
            });
        });

        // Add click event to Премиум project card
        const premiumCards = document.querySelectorAll('.project-card .premium-house');
        premiumCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('премиум');
            });
        });

        // Add click event to Оптимал + project card
        const optimalPlusCards = document.querySelectorAll('.project-card .optimal-plus-house');
        optimalPlusCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('оптимал-плюс');
            });
        });

        // Add click event to Опера project card
        const operaCards = document.querySelectorAll('.project-card .opera-house');
        operaCards.forEach(card => {
            card.parentElement.style.cursor = 'pointer';
            card.parentElement.addEventListener('click', function() {
                openGallery('опера');
            });
        });

        // ==================== ONLINE BOOKING SYSTEM ====================
        
        // Booking system state
        const bookingState = {
            currentMonth: new Date().getMonth(),
            currentYear: new Date().getFullYear(),
            selectedDate: null,
            bookedDates: [] // Список забронированных дат
        };

        // Загрузка забронированных дат с сервера
        async function loadBookedDates() {
            try {
                const response = await fetch('/api/bookings');
                const data = await response.json();
                
                if (data.success && data.bookings) {
                    bookingState.bookedDates = data.bookings.map(b => b.date);
                    console.log('Загружены забронированные даты:', bookingState.bookedDates);
                }
            } catch (error) {
                console.error('Ошибка загрузки забронированных дат:', error);
            }
        }

        // Проверка, забронирована ли дата
        function isDateBooked(dateString) {
            return bookingState.bookedDates.includes(dateString);
        }

        const monthNames = [
            'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь',
            'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'
        ];

        const dayNames = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];


        // Render calendar
        function renderCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            const calendarMonth = document.getElementById('calendarMonth');
            
            if (!calendarGrid || !calendarMonth) return;

            calendarMonth.textContent = `${monthNames[bookingState.currentMonth]} ${bookingState.currentYear}`;
            calendarGrid.innerHTML = '';

            // Add day headers
            dayNames.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-day-header';
                dayHeader.textContent = day;
                calendarGrid.appendChild(dayHeader);
            });

            // Get first day of month (0 = Sunday, adjust to Monday = 0)
            const firstDay = new Date(bookingState.currentYear, bookingState.currentMonth, 1).getDay();
            const adjustedFirstDay = firstDay === 0 ? 6 : firstDay - 1;

            // Get number of days in month
            const daysInMonth = new Date(bookingState.currentYear, bookingState.currentMonth + 1, 0).getDate();

            // Add empty cells for days before month starts
            for (let i = 0; i < adjustedFirstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day empty';
                calendarGrid.appendChild(emptyDay);
            }

            // Add days
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;

                const currentDate = new Date(bookingState.currentYear, bookingState.currentMonth, day);
                currentDate.setHours(0, 0, 0, 0);
                const dateString = formatDate(currentDate);

                // Disable past dates
                if (currentDate < today) {
                    dayElement.classList.add('disabled');
                } else if (isDateBooked(dateString)) {
                    // Дата забронирована
                    dayElement.classList.add('disabled');
                    dayElement.classList.add('booked');
                    dayElement.title = 'Эта дата уже забронирована';
                } else {
                    // Check if selected
                    if (bookingState.selectedDate === dateString) {
                        dayElement.classList.add('selected');
                    }

                    // Add click event
                    dayElement.addEventListener('click', () => {
                        selectDate(dateString);
                    });
                }

                calendarGrid.appendChild(dayElement);
            }
        }

        // Format date to YYYY-MM-DD
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // Format date for display
        function formatDateForDisplay(dateString) {
            const [year, month, day] = dateString.split('-');
            return `${day}.${month}.${year}`;
        }

        // Select date
        function selectDate(dateString) {
            bookingState.selectedDate = dateString;
            
            renderCalendar();
            updateSelectedDatetime();
            checkFormValidity();
        }

        // Update selected datetime display
        function updateSelectedDatetime() {
            const selectedDatetime = document.getElementById('selectedDatetime');
            if (!selectedDatetime) return;

            const icon = selectedDatetime.querySelector('i');
            const span = selectedDatetime.querySelector('span');

            if (bookingState.selectedDate) {
                span.textContent = `${formatDateForDisplay(bookingState.selectedDate)}`;
            } else {
                span.textContent = 'Выберите дату';
            }
        }

        // Check form validity
        function checkFormValidity() {
            const submitBtn = document.getElementById('bookingSubmitBtn');
            const nameInput = document.getElementById('bookingName');
            const phoneInput = document.getElementById('bookingPhone');

            if (!submitBtn || !nameInput || !phoneInput) return;

            const isValid = bookingState.selectedDate && 
                          nameInput.value.trim() !== '' && 
                          phoneInput.value.length >= 18;

            submitBtn.disabled = !isValid;
        }

        // Previous month
        const prevMonthBtn = document.getElementById('prevMonth');
        if (prevMonthBtn) {
            prevMonthBtn.addEventListener('click', async () => {
                bookingState.currentMonth--;
                if (bookingState.currentMonth < 0) {
                    bookingState.currentMonth = 11;
                    bookingState.currentYear--;
                }
                await loadBookedDates();
                renderCalendar();
            });
        }

        // Next month
        const nextMonthBtn = document.getElementById('nextMonth');
        if (nextMonthBtn) {
            nextMonthBtn.addEventListener('click', async () => {
                bookingState.currentMonth++;
                if (bookingState.currentMonth > 11) {
                    bookingState.currentMonth = 0;
                    bookingState.currentYear++;
                }
                await loadBookedDates();
                renderCalendar();
            });
        }

        // Phone mask
        const bookingPhoneInput = document.getElementById('bookingPhone');
        if (bookingPhoneInput) {
            bookingPhoneInput.addEventListener('input', function(e) {
                let x = this.value.replace(/\D/g, '').substring(0, 11);
                let formattedNumber = '';
                
                if (x.length > 0) {
                    if (x[0] === '7' || x[0] === '8') {
                        formattedNumber = '+7';
                        if (x.length > 1) {
                            formattedNumber += ' (' + x.substring(1, 4);
                        }
                        if (x.length >= 5) {
                            formattedNumber += ') ' + x.substring(4, 7);
                        }
                        if (x.length >= 8) {
                            formattedNumber += '-' + x.substring(7, 9);
                        }
                        if (x.length >= 10) {
                            formattedNumber += '-' + x.substring(9, 11);
                        }
                    } else {
                        formattedNumber = '+7 (' + x.substring(0, 3);
                        if (x.length >= 4) {
                            formattedNumber += ') ' + x.substring(3, 6);
                        }
                        if (x.length >= 7) {
                            formattedNumber += '-' + x.substring(6, 8);
                        }
                        if (x.length >= 9) {
                            formattedNumber += '-' + x.substring(8, 10);
                        }
                    }
                }
                
                this.value = formattedNumber;
                checkFormValidity();
            });
        }

        // Name input listener
        const bookingNameInput = document.getElementById('bookingName');
        if (bookingNameInput) {
            bookingNameInput.addEventListener('input', checkFormValidity);
        }

        // Сохранение бронирования на сервер
        async function saveBookingToServer(name, phone, date) {
            try {
                const response = await fetch('/api/bookings', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ name, phone, date })
                });

                const data = await response.json();

                if (!response.ok || !data.success) {
                    throw new Error(data.error || 'Ошибка сохранения бронирования');
                }

                return { success: true, booking: data.booking };
            } catch (error) {
                console.error('Ошибка сохранения бронирования:', error);
                return { 
                    success: false, 
                    error: error.message || 'Не удалось сохранить бронирование' 
                };
            }
        }

        // Form submission
        const bookingForm = document.getElementById('bookingForm');
        if (bookingForm) {
            bookingForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                const submitBtn = document.getElementById('bookingSubmitBtn');
                const name = document.getElementById('bookingName').value.trim();
                const phone = document.getElementById('bookingPhone').value.trim();

                if (!bookingState.selectedDate) {
                    alert('Пожалуйста, выберите дату');
                    return;
                }

                if (!name || !phone) {
                    alert('Пожалуйста, заполните все поля');
                    return;
                }

                // Disable button during submission
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Отправка...';

                console.log('🔄 Форма бронирования: начинаю отправку...');
                console.log('Дата:', bookingState.selectedDate);
                console.log('Имя:', name);
                console.log('Телефон:', phone);

                // Сохраняем бронирование на сервер
                const saveResult = await saveBookingToServer(name, phone, bookingState.selectedDate);
                
                if (!saveResult.success) {
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<i class="fas fa-check-circle"></i> Забронировать';
                    alert('❌ ' + saveResult.error);
                    return;
                }

                const bookingId = saveResult.booking.id;
                console.log('✅ Бронирование сохранено с ID:', bookingId);

                // Отправляем уведомление в Telegram
                const messageText = `🏠 <b>НОВАЯ ЗАПИСЬ НА ПОКАЗ!</b>\n\n👤 <b>Имя:</b> ${name}\n📱 <b>Телефон:</b> ${phone}\n📅 <b>Дата:</b> ${formatDateForDisplay(bookingState.selectedDate)}\n🆔 <b>ID брони:</b> ${bookingId}\n\n💬 <i>Для отмены отправьте:</i>\n<code>/cancel ${bookingId}</code>`;
                
                console.log('Сообщение для отправки:', messageText.substring(0, 100) + '...');
                
                let telegramSuccess = false;
                try {
                    telegramSuccess = await sendToTelegram(messageText);
                } catch (error) {
                    console.error('❌ Ошибка отправки в Telegram:', error);
                    telegramSuccess = false;
                }

                console.log('Результат отправки в Telegram:', telegramSuccess);

                // Успех! (даже если Telegram не отправился, бронирование сохранено)
                console.log('✅ Бронирование: сохранено');
                alert('✅ Запись успешно создана!\n\nМы свяжемся с вами в ближайшее время для уточнения времени показа.');
                
                // Reset form
                bookingForm.reset();
                bookingState.selectedDate = null;
                updateSelectedDatetime();
                
                // Обновляем список забронированных дат
                await loadBookedDates();
                renderCalendar();
                
                submitBtn.innerHTML = '<i class="fas fa-check-circle"></i> Забронировать';
                submitBtn.disabled = false;
                checkFormValidity();
            });
        }

        // Бронирования хранятся локально в localStorage
        // Автоматическое обновление не требуется

        // Initialize booking system
        if (document.getElementById('calendarGrid')) {
            // Загружаем забронированные даты и отрисовываем календарь
            loadBookedDates().then(() => {
                renderCalendar();
            });
        }

        // ==================== END ONLINE BOOKING SYSTEM ====================

        // ==================== REVIEWS SYSTEM ====================
        
        // API endpoint для работы с отзывами
        const REVIEWS_API = '/api/reviews';
        
        // Кеш отзывов
        let reviewsCache = [];

        // Загрузка отзывов с сервера
        async function loadReviews() {
            try {
                const response = await fetch(REVIEWS_API, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (!response.ok) {
                    throw new Error('Ошибка загрузки отзывов');
                }

                const data = await response.json();
                
                if (data.success && data.reviews) {
                    reviewsCache = data.reviews;
                    return data.reviews;
                }
                
                return reviewsCache;
            } catch (error) {
                console.error('Ошибка загрузки отзывов:', error);
                // Возвращаем кешированные отзывы при ошибке
                return reviewsCache;
            }
        }

        // Сохранение отзыва на сервер
        async function saveReview(review) {
            try {
                const response = await fetch(REVIEWS_API, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(review)
                });

                const data = await response.json();

                if (!response.ok || !data.success) {
                    throw new Error(data.error || 'Ошибка сохранения отзыва');
                }

                return { success: true, review: data.review };
            } catch (error) {
                console.error('Ошибка сохранения отзыва:', error);
                return { 
                    success: false, 
                    error: error.message || 'Не удалось сохранить отзыв. Попробуйте позже.' 
                };
            }
        }

        // Отображение отзывов
        async function renderReviews() {
            const reviewsList = document.getElementById('reviewsList');
            if (!reviewsList) return;

            // Показываем загрузку
            reviewsList.innerHTML = `
                <div style="text-align: center; padding: 2rem; color: #666;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                    <p>Загрузка отзывов...</p>
                </div>
            `;

            const reviews = await loadReviews();
            reviewsList.innerHTML = '';

            if (reviews.length === 0) {
                reviewsList.innerHTML = `
                    <div class="no-reviews">
                        <i class="fas fa-comments"></i>
                        <h3>Пока нет отзывов</h3>
                        <p>Станьте первым, кто оставит отзыв о нашей работе!</p>
                    </div>
                `;
                return;
            }

            // Сортируем по дате (новые сверху)
            const sortedReviews = [...reviews].sort((a, b) => 
                new Date(b.date) - new Date(a.date)
            );

            sortedReviews.forEach(review => {
                const reviewCard = document.createElement('div');
                reviewCard.className = 'review-card';
                
                // Генерация звёзд
                let starsHTML = '';
                for (let i = 1; i <= 5; i++) {
                    starsHTML += `<i class="fas fa-star" style="color: ${i <= review.rating ? '#FFD700' : '#ddd'}"></i>`;
                }

                reviewCard.innerHTML = `
                    <div class="review-header">
                        <div class="review-author">
                            <h4>${escapeHtml(review.name)}</h4>
                            ${review.project ? `<p class="review-project">Проект: ${escapeHtml(review.project)}</p>` : ''}
                        </div>
                        <div class="review-rating">
                            ${starsHTML}
                        </div>
                    </div>
                    <div class="review-text">
                        ${escapeHtml(review.text)}
                    </div>
                    <div class="review-date">
                        ${formatReviewDate(review.date)}
                    </div>
                `;
                
                reviewsList.appendChild(reviewCard);
            });
        }

        // Функция экранирования HTML
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Форматирование даты отзыва
        function formatReviewDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = now - date;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays === 0) return 'Сегодня';
            if (diffDays === 1) return 'Вчера';
            if (diffDays < 7) return `${diffDays} дней назад`;
            
            return date.toLocaleDateString('ru-RU', { 
                day: 'numeric', 
                month: 'long', 
                year: 'numeric' 
            });
        }

        // Обработка рейтинга (звёзды)
        const ratingInput = document.getElementById('ratingInput');
        const reviewRatingInput = document.getElementById('reviewRating');
        
        if (ratingInput) {
            const stars = ratingInput.querySelectorAll('i');
            
            stars.forEach(star => {
                star.addEventListener('click', function() {
                    const rating = this.getAttribute('data-rating');
                    reviewRatingInput.value = rating;
                    
                    // Обновляем визуальное отображение
                    stars.forEach(s => {
                        const sRating = s.getAttribute('data-rating');
                        if (sRating <= rating) {
                            s.classList.remove('far');
                            s.classList.add('fas', 'active');
                        } else {
                            s.classList.remove('fas', 'active');
                            s.classList.add('far');
                        }
                    });
                });

                // Hover эффект
                star.addEventListener('mouseenter', function() {
                    const rating = this.getAttribute('data-rating');
                    stars.forEach(s => {
                        const sRating = s.getAttribute('data-rating');
                        if (sRating <= rating) {
                            s.classList.add('active');
                        }
                    });
                });

                star.addEventListener('mouseleave', function() {
                    const currentRating = reviewRatingInput.value;
                    stars.forEach(s => {
                        const sRating = s.getAttribute('data-rating');
                        if (!currentRating || sRating > currentRating) {
                            s.classList.remove('active');
                        }
                    });
                });
            });
        }

        // Обработка формы отзыва
        const reviewForm = document.getElementById('reviewForm');
        if (reviewForm) {
            reviewForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                const name = document.getElementById('reviewName').value.trim();
                const project = document.getElementById('reviewProject').value.trim();
                const rating = document.getElementById('reviewRating').value;
                const text = document.getElementById('reviewText').value.trim();

                if (!name || !rating || !text) {
                    alert('Пожалуйста, заполните обязательные поля: имя, оценка и текст отзыва');
                    return;
                }

                // Блокируем кнопку отправки
                const submitBtn = reviewForm.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Отправка...';

                // Создаём новый отзыв
                const review = {
                    name: name,
                    project: project,
                    rating: parseInt(rating),
                    text: text
                };

                // Сохраняем на сервер
                const result = await saveReview(review);

                // Разблокируем кнопку
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;

                if (result.success) {
                    // Очищаем форму
                    reviewForm.reset();
                    document.getElementById('reviewRating').value = '';
                    
                    // Сбрасываем звёзды
                    const stars = document.querySelectorAll('#ratingInput i');
                    stars.forEach(s => {
                        s.classList.remove('fas', 'active');
                        s.classList.add('far');
                    });

                    // Обновляем отображение
                    await renderReviews();

                    // Показываем уведомление
                    alert('✅ Спасибо за ваш отзыв! Он успешно опубликован и виден всем посетителям сайта.');

                    // Прокручиваем к списку отзывов
                    document.getElementById('reviewsList').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'nearest' 
                    });
                } else {
                    // Показываем ошибку
                    alert('❌ ' + result.error);
                }
            });
        }

        // Инициализация отзывов
        if (document.getElementById('reviewsList')) {
            renderReviews();
        }

        // ==================== END REVIEWS SYSTEM ====================

        // ==================== PORTFOLIO LIGHTBOX ====================
        
        const portfolioItems = document.querySelectorAll('.portfolio-item');
        const portfolioLightboxModal = document.getElementById('lightboxModal');
        const portfolioLightboxImage = document.getElementById('lightboxImage');
        const portfolioLightboxClose = document.getElementById('lightboxClose');
        const portfolioLightboxPrev = document.getElementById('lightboxPrev');
        const portfolioLightboxNext = document.getElementById('lightboxNext');
        const portfolioLightboxCounter = document.getElementById('lightboxCounter');

        let portfolioCurrentIndex = 0;
        const portfolioImages = Array.from(portfolioItems).map(item => item.getAttribute('data-image'));

        // Открытие лайтбокса портфолио
        portfolioItems.forEach((item, index) => {
            item.addEventListener('click', () => {
                portfolioCurrentIndex = index;
                openPortfolioLightbox();
            });
        });

        // Функция открытия лайтбокса портфолио
        function openPortfolioLightbox() {
            portfolioLightboxImage.src = portfolioImages[portfolioCurrentIndex];
            portfolioLightboxCounter.textContent = `${portfolioCurrentIndex + 1} / ${portfolioImages.length}`;
            portfolioLightboxModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        // Функция закрытия лайтбокса портфолио
        function closePortfolioLightbox() {
            portfolioLightboxModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Закрытие по кнопке
        if (portfolioLightboxClose) {
            portfolioLightboxClose.addEventListener('click', closePortfolioLightbox);
        }

        // Закрытие по клику на фон
        if (portfolioLightboxModal) {
            portfolioLightboxModal.addEventListener('click', (e) => {
                if (e.target === portfolioLightboxModal) {
                    closePortfolioLightbox();
                }
            });
        }

        // Предыдущее изображение
        if (portfolioLightboxPrev) {
            portfolioLightboxPrev.addEventListener('click', (e) => {
                e.stopPropagation();
                portfolioCurrentIndex = (portfolioCurrentIndex - 1 + portfolioImages.length) % portfolioImages.length;
                openPortfolioLightbox();
            });
        }

        // Следующее изображение
        if (portfolioLightboxNext) {
            portfolioLightboxNext.addEventListener('click', (e) => {
                e.stopPropagation();
                portfolioCurrentIndex = (portfolioCurrentIndex + 1) % portfolioImages.length;
                openPortfolioLightbox();
            });
        }

        // Навигация стрелками клавиатуры
        document.addEventListener('keydown', (e) => {
            if (portfolioLightboxModal && portfolioLightboxModal.style.display === 'flex') {
                if (e.key === 'ArrowLeft') {
                    portfolioCurrentIndex = (portfolioCurrentIndex - 1 + portfolioImages.length) % portfolioImages.length;
                    openPortfolioLightbox();
                } else if (e.key === 'ArrowRight') {
                    portfolioCurrentIndex = (portfolioCurrentIndex + 1) % portfolioImages.length;
                    openPortfolioLightbox();
                } else if (e.key === 'Escape') {
                    closePortfolioLightbox();
                }
            }
        });

        // ==================== END PORTFOLIO LIGHTBOX ====================
    </script>
</body>
</html> 